{"ast":null,"code":"'use strict';\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nvar _toConsumableArray = require(\"@babel/runtime/helpers/toConsumableArray\");\n\nvar _jsxFileName = \"/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/react-native/RNTester/js/examples/Animated/AnimatedGratuitousApp/AnExBobble.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar React = require('react');\n\nvar Animated = require(\"react-native-web/dist/exports/Animated\").default;\n\nvar PanResponder = require(\"react-native-web/dist/exports/PanResponder\").default;\n\nvar StyleSheet = require(\"react-native-web/dist/exports/StyleSheet\").default;\n\nvar View = require(\"react-native-web/dist/exports/View\").default;\n\nvar NUM_BOBBLES = 5;\nvar RAD_EACH = Math.PI / 2 / (NUM_BOBBLES - 2);\nvar RADIUS = 160;\n\nvar BOBBLE_SPOTS = _toConsumableArray(Array(NUM_BOBBLES)).map(function (_, i) {\n  return i === 0 ? {\n    x: 0,\n    y: 0\n  } : {\n    x: -Math.cos(RAD_EACH * (i - 1)) * RADIUS,\n    y: -Math.sin(RAD_EACH * (i - 1)) * RADIUS\n  };\n});\n\nvar AnExBobble = function (_React$Component) {\n  _inherits(AnExBobble, _React$Component);\n\n  var _super = _createSuper(AnExBobble);\n\n  function AnExBobble(props) {\n    var _this;\n\n    _classCallCheck(this, AnExBobble);\n\n    _this = _super.call(this, props);\n    _this.state = {};\n    _this.state.bobbles = BOBBLE_SPOTS.map(function (_, i) {\n      return new Animated.ValueXY();\n    });\n    _this.state.selectedBobble = null;\n\n    var bobblePanListener = function bobblePanListener(e, gestureState) {\n      var newSelected = computeNewSelected(gestureState);\n\n      if (_this.state.selectedBobble !== newSelected) {\n        if (_this.state.selectedBobble !== null) {\n          var restSpot = BOBBLE_SPOTS[_this.state.selectedBobble];\n          Animated.spring(_this.state.bobbles[_this.state.selectedBobble], {\n            toValue: restSpot,\n            useNativeDriver: false\n          }).start();\n        }\n\n        if (newSelected !== null && newSelected !== 0) {\n          Animated.spring(_this.state.bobbles[newSelected], {\n            toValue: _this.state.bobbles[0],\n            useNativeDriver: false\n          }).start();\n        }\n\n        _this.state.selectedBobble = newSelected;\n      }\n    };\n\n    var releaseBobble = function releaseBobble() {\n      _this.state.bobbles.forEach(function (bobble, i) {\n        Animated.spring(bobble, {\n          toValue: {\n            x: 0,\n            y: 0\n          },\n          useNativeDriver: false\n        }).start();\n      });\n    };\n\n    _this.state.bobbleResponder = PanResponder.create({\n      onStartShouldSetPanResponder: function onStartShouldSetPanResponder() {\n        return true;\n      },\n      onPanResponderGrant: function onPanResponderGrant() {\n        BOBBLE_SPOTS.forEach(function (spot, idx) {\n          Animated.spring(_this.state.bobbles[idx], {\n            toValue: spot,\n            friction: 3,\n            useNativeDriver: false\n          }).start();\n        });\n      },\n      onPanResponderMove: Animated.event([null, {\n        dx: _this.state.bobbles[0].x,\n        dy: _this.state.bobbles[0].y\n      }], {\n        listener: bobblePanListener,\n        useNativeDriver: false\n      }),\n      onPanResponderRelease: releaseBobble,\n      onPanResponderTerminate: releaseBobble\n    });\n    return _this;\n  }\n\n  _createClass(AnExBobble, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: styles.bobbleContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 7\n        }\n      }, this.state.bobbles.map(function (_, i) {\n        var j = _this2.state.bobbles.length - i - 1;\n        var handlers = j > 0 ? {} : _this2.state.bobbleResponder.panHandlers;\n        return React.createElement(Animated.Image, _extends({}, handlers, {\n          key: i,\n          source: {\n            uri: BOBBLE_IMGS[j]\n          },\n          style: [styles.circle, {\n            backgroundColor: randColor(),\n            transform: _this2.state.bobbles[j].getTranslateTransform()\n          }],\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }\n        }));\n      }));\n    }\n  }]);\n\n  return AnExBobble;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  circle: {\n    position: 'absolute',\n    height: 60,\n    width: 60,\n    borderRadius: 30,\n    borderWidth: 0.5\n  },\n  bobbleContainer: {\n    top: -68,\n    paddingRight: 66,\n    flexDirection: 'row',\n    flex: 1,\n    justifyContent: 'flex-end',\n    backgroundColor: 'transparent'\n  }\n});\n\nfunction computeNewSelected(gestureState) {\n  var dx = gestureState.dx,\n      dy = gestureState.dy;\n  var minDist = Infinity;\n  var newSelected = null;\n  var pointRadius = Math.sqrt(dx * dx + dy * dy);\n\n  if (Math.abs(RADIUS - pointRadius) < 80) {\n    BOBBLE_SPOTS.forEach(function (spot, idx) {\n      var delta = {\n        x: spot.x - dx,\n        y: spot.y - dy\n      };\n      var dist = delta.x * delta.x + delta.y * delta.y;\n\n      if (dist < minDist) {\n        minDist = dist;\n        newSelected = idx;\n      }\n    });\n  }\n\n  return newSelected;\n}\n\nfunction randColor() {\n  var colors = [0, 1, 2].map(function () {\n    return Math.floor(Math.random() * 150 + 100);\n  });\n  return 'rgb(' + colors.join(',') + ')';\n}\n\nvar BOBBLE_IMGS = ['https://scontent-sea1-1.xx.fbcdn.net/hphotos-xpf1/t39.1997-6/10173489_272703316237267_1025826781_n.png', 'https://scontent-sea1-1.xx.fbcdn.net/hphotos-xaf1/l/t39.1997-6/p240x240/851578_631487400212668_2087073502_n.png', 'https://scontent-sea1-1.xx.fbcdn.net/hphotos-xaf1/t39.1997-6/p240x240/851583_654446917903722_178118452_n.png', 'https://scontent-sea1-1.xx.fbcdn.net/hphotos-xaf1/t39.1997-6/p240x240/851565_641023175913294_875343096_n.png', 'https://scontent-sea1-1.xx.fbcdn.net/hphotos-xaf1/t39.1997-6/851562_575284782557566_1188781517_n.png'];\nmodule.exports = AnExBobble;","map":{"version":3,"sources":["/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/react-native/RNTester/js/examples/Animated/AnimatedGratuitousApp/AnExBobble.js"],"names":["React","require","NUM_BOBBLES","RAD_EACH","Math","PI","RADIUS","BOBBLE_SPOTS","Array","map","_","i","x","y","cos","sin","AnExBobble","props","state","bobbles","Animated","ValueXY","selectedBobble","bobblePanListener","e","gestureState","newSelected","computeNewSelected","restSpot","spring","toValue","useNativeDriver","start","releaseBobble","forEach","bobble","bobbleResponder","PanResponder","create","onStartShouldSetPanResponder","onPanResponderGrant","spot","idx","friction","onPanResponderMove","event","dx","dy","listener","onPanResponderRelease","onPanResponderTerminate","styles","bobbleContainer","j","length","handlers","panHandlers","uri","BOBBLE_IMGS","circle","backgroundColor","randColor","transform","getTranslateTransform","Component","StyleSheet","position","height","width","borderRadius","borderWidth","top","paddingRight","flexDirection","flex","justifyContent","minDist","Infinity","pointRadius","sqrt","abs","delta","dist","colors","floor","random","join","module","exports"],"mappings":"AAUA;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;;;;;;;;;AAGA,IAAMC,WAAW,GAAG,CAApB;AACA,IAAMC,QAAQ,GAAGC,IAAI,CAACC,EAAL,GAAU,CAAV,IAAeH,WAAW,GAAG,CAA7B,CAAjB;AACA,IAAMI,MAAM,GAAG,GAAf;;AACA,IAAMC,YAAY,GAAG,mBAAIC,KAAK,CAACN,WAAD,CAAT,EAAwBO,GAAxB,CAA4B,UAACC,CAAD,EAAIC,CAAJ,EAAU;AAEzD,SAAOA,CAAC,KAAK,CAAN,GACH;AAACC,IAAAA,CAAC,EAAE,CAAJ;AAAOC,IAAAA,CAAC,EAAE;AAAV,GADG,GAEH;AAEED,IAAAA,CAAC,EAAE,CAACR,IAAI,CAACU,GAAL,CAASX,QAAQ,IAAIQ,CAAC,GAAG,CAAR,CAAjB,CAAD,GAAgCL,MAFrC;AAGEO,IAAAA,CAAC,EAAE,CAACT,IAAI,CAACW,GAAL,CAASZ,QAAQ,IAAIQ,CAAC,GAAG,CAAR,CAAjB,CAAD,GAAgCL;AAHrC,GAFJ;AAOD,CAToB,CAArB;;IAWMU,U;;;;;AACJ,sBAAYC,KAAZ,EAA2B;AAAA;;AAAA;;AACzB,8BAAMA,KAAN;AACA,UAAKC,KAAL,GAAa,EAAb;AACA,UAAKA,KAAL,CAAWC,OAAX,GAAqBZ,YAAY,CAACE,GAAb,CAAiB,UAACC,CAAD,EAAIC,CAAJ,EAAU;AAC9C,aAAO,IAAIS,QAAQ,CAACC,OAAb,EAAP;AACD,KAFoB,CAArB;AAGA,UAAKH,KAAL,CAAWI,cAAX,GAA4B,IAA5B;;AACA,QAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,CAAD,EAAIC,YAAJ,EAAqB;AAE7C,UAAMC,WAAW,GAAGC,kBAAkB,CAACF,YAAD,CAAtC;;AACA,UAAI,MAAKP,KAAL,CAAWI,cAAX,KAA8BI,WAAlC,EAA+C;AAC7C,YAAI,MAAKR,KAAL,CAAWI,cAAX,KAA8B,IAAlC,EAAwC;AACtC,cAAMM,QAAQ,GAAGrB,YAAY,CAAC,MAAKW,KAAL,CAAWI,cAAZ,CAA7B;AACAF,UAAAA,QAAQ,CAACS,MAAT,CAAgB,MAAKX,KAAL,CAAWC,OAAX,CAAmB,MAAKD,KAAL,CAAWI,cAA9B,CAAhB,EAA+D;AAE7DQ,YAAAA,OAAO,EAAEF,QAFoD;AAI7DG,YAAAA,eAAe,EAAE;AAJ4C,WAA/D,EAKGC,KALH;AAMD;;AACD,YAAIN,WAAW,KAAK,IAAhB,IAAwBA,WAAW,KAAK,CAA5C,EAA+C;AAC7CN,UAAAA,QAAQ,CAACS,MAAT,CAAgB,MAAKX,KAAL,CAAWC,OAAX,CAAmBO,WAAnB,CAAhB,EAAiD;AAE/CI,YAAAA,OAAO,EAAE,MAAKZ,KAAL,CAAWC,OAAX,CAAmB,CAAnB,CAFsC;AAI/CY,YAAAA,eAAe,EAAE;AAJ8B,WAAjD,EAKGC,KALH;AAMD;;AACD,cAAKd,KAAL,CAAWI,cAAX,GAA4BI,WAA5B;AACD;AACF,KAvBD;;AAwBA,QAAMO,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B,YAAKf,KAAL,CAAWC,OAAX,CAAmBe,OAAnB,CAA2B,UAACC,MAAD,EAASxB,CAAT,EAAe;AACxCS,QAAAA,QAAQ,CAACS,MAAT,CAAgBM,MAAhB,EAAwB;AAEtBL,UAAAA,OAAO,EAAE;AAAClB,YAAAA,CAAC,EAAE,CAAJ;AAAOC,YAAAA,CAAC,EAAE;AAAV,WAFa;AAItBkB,UAAAA,eAAe,EAAE;AAJK,SAAxB,EAKGC,KALH;AAMD,OAPD;AAQD,KATD;;AAUA,UAAKd,KAAL,CAAWkB,eAAX,GAA6BC,YAAY,CAACC,MAAb,CAAoB;AAC/CC,MAAAA,4BAA4B,EAAE;AAAA,eAAM,IAAN;AAAA,OADiB;AAE/CC,MAAAA,mBAAmB,EAAE,+BAAM;AACzBjC,QAAAA,YAAY,CAAC2B,OAAb,CAAqB,UAACO,IAAD,EAAOC,GAAP,EAAe;AAClCtB,UAAAA,QAAQ,CAACS,MAAT,CAAgB,MAAKX,KAAL,CAAWC,OAAX,CAAmBuB,GAAnB,CAAhB,EAAyC;AAEvCZ,YAAAA,OAAO,EAAEW,IAF8B;AAKvCE,YAAAA,QAAQ,EAAE,CAL6B;AAOvCZ,YAAAA,eAAe,EAAE;AAPsB,WAAzC,EAQGC,KARH;AASD,SAVD;AAWD,OAd8C;AAe/CY,MAAAA,kBAAkB,EAAExB,QAAQ,CAACyB,KAAT,CAClB,CAAC,IAAD,EAAO;AAACC,QAAAA,EAAE,EAAE,MAAK5B,KAAL,CAAWC,OAAX,CAAmB,CAAnB,EAAsBP,CAA3B;AAA8BmC,QAAAA,EAAE,EAAE,MAAK7B,KAAL,CAAWC,OAAX,CAAmB,CAAnB,EAAsBN;AAAxD,OAAP,CADkB,EAElB;AAACmC,QAAAA,QAAQ,EAAEzB,iBAAX;AAA8BQ,QAAAA,eAAe,EAAE;AAA/C,OAFkB,CAf2B;AAmB/CkB,MAAAA,qBAAqB,EAAEhB,aAnBwB;AAoB/CiB,MAAAA,uBAAuB,EAAEjB;AApBsB,KAApB,CAA7B;AAzCyB;AA+D1B;;;;WAED,kBAAqB;AAAA;;AACnB,aACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEkB,MAAM,CAACC,eAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKlC,KAAL,CAAWC,OAAX,CAAmBV,GAAnB,CAAuB,UAACC,CAAD,EAAIC,CAAJ,EAAU;AAChC,YAAM0C,CAAC,GAAG,MAAI,CAACnC,KAAL,CAAWC,OAAX,CAAmBmC,MAAnB,GAA4B3C,CAA5B,GAAgC,CAA1C;AACA,YAAM4C,QAAQ,GAAGF,CAAC,GAAG,CAAJ,GAAQ,EAAR,GAAa,MAAI,CAACnC,KAAL,CAAWkB,eAAX,CAA2BoB,WAAzD;AACA,eACE,oBAAC,QAAD,CAAU,KAAV,eACMD,QADN;AAEE,UAAA,GAAG,EAAE5C,CAFP;AAGE,UAAA,MAAM,EAAE;AAAC8C,YAAAA,GAAG,EAAEC,WAAW,CAACL,CAAD;AAAjB,WAHV;AAIE,UAAA,KAAK,EAAE,CACLF,MAAM,CAACQ,MADF,EAEL;AACEC,YAAAA,eAAe,EAAEC,SAAS,EAD5B;AAEEC,YAAAA,SAAS,EAAE,MAAI,CAAC5C,KAAL,CAAWC,OAAX,CAAmBkC,CAAnB,EAAsBU,qBAAtB;AAFb,WAFK,CAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF;AAcD,OAjBA,CADH,CADF;AAsBD;;;;EAzFsB/D,KAAK,CAACgE,S;;AA4F/B,IAAMb,MAAM,GAAGc,UAAU,CAAC3B,MAAX,CAAkB;AAC/BqB,EAAAA,MAAM,EAAE;AACNO,IAAAA,QAAQ,EAAE,UADJ;AAENC,IAAAA,MAAM,EAAE,EAFF;AAGNC,IAAAA,KAAK,EAAE,EAHD;AAINC,IAAAA,YAAY,EAAE,EAJR;AAKNC,IAAAA,WAAW,EAAE;AALP,GADuB;AAQ/BlB,EAAAA,eAAe,EAAE;AACfmB,IAAAA,GAAG,EAAE,CAAC,EADS;AAEfC,IAAAA,YAAY,EAAE,EAFC;AAGfC,IAAAA,aAAa,EAAE,KAHA;AAIfC,IAAAA,IAAI,EAAE,CAJS;AAKfC,IAAAA,cAAc,EAAE,UALD;AAMff,IAAAA,eAAe,EAAE;AANF;AARc,CAAlB,CAAf;;AAkBA,SAASjC,kBAAT,CAA4BF,YAA5B,EAA2D;AAAA,MAClDqB,EADkD,GACxCrB,YADwC,CAClDqB,EADkD;AAAA,MAC9CC,EAD8C,GACxCtB,YADwC,CAC9CsB,EAD8C;AAEzD,MAAI6B,OAAO,GAAGC,QAAd;AACA,MAAInD,WAAW,GAAG,IAAlB;AACA,MAAMoD,WAAW,GAAG1E,IAAI,CAAC2E,IAAL,CAAUjC,EAAE,GAAGA,EAAL,GAAUC,EAAE,GAAGA,EAAzB,CAApB;;AACA,MAAI3C,IAAI,CAAC4E,GAAL,CAAS1E,MAAM,GAAGwE,WAAlB,IAAiC,EAArC,EAAyC;AACvCvE,IAAAA,YAAY,CAAC2B,OAAb,CAAqB,UAACO,IAAD,EAAOC,GAAP,EAAe;AAClC,UAAMuC,KAAK,GAAG;AAACrE,QAAAA,CAAC,EAAE6B,IAAI,CAAC7B,CAAL,GAASkC,EAAb;AAAiBjC,QAAAA,CAAC,EAAE4B,IAAI,CAAC5B,CAAL,GAASkC;AAA7B,OAAd;AACA,UAAMmC,IAAI,GAAGD,KAAK,CAACrE,CAAN,GAAUqE,KAAK,CAACrE,CAAhB,GAAoBqE,KAAK,CAACpE,CAAN,GAAUoE,KAAK,CAACpE,CAAjD;;AACA,UAAIqE,IAAI,GAAGN,OAAX,EAAoB;AAClBA,QAAAA,OAAO,GAAGM,IAAV;AACAxD,QAAAA,WAAW,GAAGgB,GAAd;AACD;AACF,KAPD;AAQD;;AACD,SAAOhB,WAAP;AACD;;AAED,SAASmC,SAAT,GAA6B;AAC3B,MAAMsB,MAAM,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU1E,GAAV,CAAc;AAAA,WAAML,IAAI,CAACgF,KAAL,CAAWhF,IAAI,CAACiF,MAAL,KAAgB,GAAhB,GAAsB,GAAjC,CAAN;AAAA,GAAd,CAAf;AACA,SAAO,SAASF,MAAM,CAACG,IAAP,CAAY,GAAZ,CAAT,GAA4B,GAAnC;AACD;;AAED,IAAM5B,WAAW,GAAG,CAClB,wGADkB,EAElB,iHAFkB,EAGlB,8GAHkB,EAIlB,8GAJkB,EAKlB,sGALkB,CAApB;AAQA6B,MAAM,CAACC,OAAP,GAAiBxE,UAAjB","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\n'use strict';\n\nconst React = require('react');\nconst {Animated, PanResponder, StyleSheet, View} = require('react-native');\n\nconst NUM_BOBBLES = 5;\nconst RAD_EACH = Math.PI / 2 / (NUM_BOBBLES - 2);\nconst RADIUS = 160;\nconst BOBBLE_SPOTS = [...Array(NUM_BOBBLES)].map((_, i) => {\n  // static positions\n  return i === 0\n    ? {x: 0, y: 0}\n    : {\n        // first bobble is the selector\n        x: -Math.cos(RAD_EACH * (i - 1)) * RADIUS,\n        y: -Math.sin(RAD_EACH * (i - 1)) * RADIUS,\n      };\n});\n\nclass AnExBobble extends React.Component<Object, any> {\n  constructor(props: Object) {\n    super(props);\n    this.state = {};\n    this.state.bobbles = BOBBLE_SPOTS.map((_, i) => {\n      return new Animated.ValueXY();\n    });\n    this.state.selectedBobble = null;\n    const bobblePanListener = (e, gestureState) => {\n      // async events => change selection\n      const newSelected = computeNewSelected(gestureState);\n      if (this.state.selectedBobble !== newSelected) {\n        if (this.state.selectedBobble !== null) {\n          const restSpot = BOBBLE_SPOTS[this.state.selectedBobble];\n          Animated.spring(this.state.bobbles[this.state.selectedBobble], {\n            // return previously selected bobble to rest position\n            toValue: restSpot,\n\n            useNativeDriver: false,\n          }).start();\n        }\n        if (newSelected !== null && newSelected !== 0) {\n          Animated.spring(this.state.bobbles[newSelected], {\n            // newly selected should track the selector\n            toValue: this.state.bobbles[0],\n\n            useNativeDriver: false,\n          }).start();\n        }\n        this.state.selectedBobble = newSelected;\n      }\n    };\n    const releaseBobble = () => {\n      this.state.bobbles.forEach((bobble, i) => {\n        Animated.spring(bobble, {\n          // all bobbles return to zero\n          toValue: {x: 0, y: 0},\n\n          useNativeDriver: false,\n        }).start();\n      });\n    };\n    this.state.bobbleResponder = PanResponder.create({\n      onStartShouldSetPanResponder: () => true,\n      onPanResponderGrant: () => {\n        BOBBLE_SPOTS.forEach((spot, idx) => {\n          Animated.spring(this.state.bobbles[idx], {\n            // spring each bobble to its spot\n            toValue: spot,\n\n            // less friction => bouncier\n            friction: 3,\n\n            useNativeDriver: false,\n          }).start();\n        });\n      },\n      onPanResponderMove: Animated.event(\n        [null, {dx: this.state.bobbles[0].x, dy: this.state.bobbles[0].y}],\n        {listener: bobblePanListener, useNativeDriver: false}, // async state changes with arbitrary logic\n      ),\n      onPanResponderRelease: releaseBobble,\n      onPanResponderTerminate: releaseBobble,\n    });\n  }\n\n  render(): React.Node {\n    return (\n      <View style={styles.bobbleContainer}>\n        {this.state.bobbles.map((_, i) => {\n          const j = this.state.bobbles.length - i - 1; // reverse so lead on top\n          const handlers = j > 0 ? {} : this.state.bobbleResponder.panHandlers;\n          return (\n            <Animated.Image\n              {...handlers}\n              key={i}\n              source={{uri: BOBBLE_IMGS[j]}}\n              style={[\n                styles.circle,\n                {\n                  backgroundColor: randColor(), // re-renders are obvious\n                  transform: this.state.bobbles[j].getTranslateTransform(), // simple conversion\n                },\n              ]}\n            />\n          );\n        })}\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  circle: {\n    position: 'absolute',\n    height: 60,\n    width: 60,\n    borderRadius: 30,\n    borderWidth: 0.5,\n  },\n  bobbleContainer: {\n    top: -68,\n    paddingRight: 66,\n    flexDirection: 'row',\n    flex: 1,\n    justifyContent: 'flex-end',\n    backgroundColor: 'transparent',\n  },\n});\n\nfunction computeNewSelected(gestureState: Object): ?number {\n  const {dx, dy} = gestureState;\n  let minDist = Infinity;\n  let newSelected = null;\n  const pointRadius = Math.sqrt(dx * dx + dy * dy);\n  if (Math.abs(RADIUS - pointRadius) < 80) {\n    BOBBLE_SPOTS.forEach((spot, idx) => {\n      const delta = {x: spot.x - dx, y: spot.y - dy};\n      const dist = delta.x * delta.x + delta.y * delta.y;\n      if (dist < minDist) {\n        minDist = dist;\n        newSelected = idx;\n      }\n    });\n  }\n  return newSelected;\n}\n\nfunction randColor(): string {\n  const colors = [0, 1, 2].map(() => Math.floor(Math.random() * 150 + 100));\n  return 'rgb(' + colors.join(',') + ')';\n}\n\nconst BOBBLE_IMGS = [\n  'https://scontent-sea1-1.xx.fbcdn.net/hphotos-xpf1/t39.1997-6/10173489_272703316237267_1025826781_n.png',\n  'https://scontent-sea1-1.xx.fbcdn.net/hphotos-xaf1/l/t39.1997-6/p240x240/851578_631487400212668_2087073502_n.png',\n  'https://scontent-sea1-1.xx.fbcdn.net/hphotos-xaf1/t39.1997-6/p240x240/851583_654446917903722_178118452_n.png',\n  'https://scontent-sea1-1.xx.fbcdn.net/hphotos-xaf1/t39.1997-6/p240x240/851565_641023175913294_875343096_n.png',\n  'https://scontent-sea1-1.xx.fbcdn.net/hphotos-xaf1/t39.1997-6/851562_575284782557566_1188781517_n.png',\n];\n\nmodule.exports = AnExBobble;\n"]},"metadata":{},"sourceType":"script"}