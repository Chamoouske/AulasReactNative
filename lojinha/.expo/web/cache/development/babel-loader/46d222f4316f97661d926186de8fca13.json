{"ast":null,"code":"\"use strict\";\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[Symbol.iterator](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _data = _interopRequireDefault(require(\"core-js-compat/data.json\"));\n\nvar _corejs3ShippedProposals = _interopRequireDefault(require(\"@babel/compat-data/corejs3-shipped-proposals\"));\n\nvar _getModulesListForTargetVersion = _interopRequireDefault(require(\"core-js-compat/get-modules-list-for-target-version\"));\n\nvar _helperCompilationTargets = require(\"@babel/helper-compilation-targets\");\n\nvar _builtInDefinitions = require(\"./built-in-definitions\");\n\nvar _utils = require(\"../../utils\");\n\nvar _debug = require(\"../../debug\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar NO_DIRECT_POLYFILL_IMPORT = \"\\n  When setting `useBuiltIns: 'usage'`, polyfills are automatically imported when needed.\\n  Please remove the direct import of `core-js` or use `useBuiltIns: 'entry'` instead.\";\nvar corejs3PolyfillsWithoutProposals = Object.keys(_data.default).filter(function (name) {\n  return !name.startsWith(\"esnext.\");\n}).reduce(function (memo, key) {\n  memo[key] = _data.default[key];\n  return memo;\n}, {});\n\nvar corejs3PolyfillsWithShippedProposals = _corejs3ShippedProposals.default.reduce(function (memo, key) {\n  memo[key] = _data.default[key];\n  return memo;\n}, _extends({}, corejs3PolyfillsWithoutProposals));\n\nfunction _default(_, _ref) {\n  var corejs = _ref.corejs,\n      include = _ref.include,\n      exclude = _ref.exclude,\n      polyfillTargets = _ref.polyfillTargets,\n      proposals = _ref.proposals,\n      shippedProposals = _ref.shippedProposals,\n      debug = _ref.debug;\n  var polyfills = (0, _helperCompilationTargets.filterItems)(proposals ? _data.default : shippedProposals ? corejs3PolyfillsWithShippedProposals : corejs3PolyfillsWithoutProposals, include, exclude, polyfillTargets, null);\n  var available = new Set((0, _getModulesListForTargetVersion.default)(corejs.version));\n\n  function resolveKey(path, computed) {\n    var node = path.node,\n        parent = path.parent,\n        scope = path.scope;\n    if (path.isStringLiteral()) return node.value;\n    var name = node.name;\n    var isIdentifier = path.isIdentifier();\n    if (isIdentifier && !(computed || parent.computed)) return name;\n\n    if (!isIdentifier || scope.getBindingIdentifier(name)) {\n      var _path$evaluate = path.evaluate(),\n          value = _path$evaluate.value;\n\n      if (typeof value === \"string\") return value;\n    }\n  }\n\n  function resolveSource(path) {\n    var node = path.node,\n        scope = path.scope;\n    var builtIn, instanceType;\n\n    if (node) {\n      builtIn = node.name;\n\n      if (!path.isIdentifier() || scope.getBindingIdentifier(builtIn)) {\n        var _path$evaluate2 = path.evaluate(),\n            deopt = _path$evaluate2.deopt,\n            value = _path$evaluate2.value;\n\n        if (value !== undefined) {\n          instanceType = (0, _utils.getType)(value);\n        } else if (deopt == null ? void 0 : deopt.isIdentifier()) {\n          builtIn = deopt.node.name;\n        }\n      }\n    }\n\n    return {\n      builtIn: builtIn,\n      instanceType: instanceType,\n      isNamespaced: (0, _utils.isNamespaced)(path)\n    };\n  }\n\n  var addAndRemovePolyfillImports = {\n    ImportDeclaration: function ImportDeclaration(path) {\n      if ((0, _utils.isPolyfillSource)((0, _utils.getImportSource)(path))) {\n        console.warn(NO_DIRECT_POLYFILL_IMPORT);\n        path.remove();\n      }\n    },\n    Program: {\n      enter: function enter(path) {\n        path.get(\"body\").forEach(function (bodyPath) {\n          if ((0, _utils.isPolyfillSource)((0, _utils.getRequireSource)(bodyPath))) {\n            console.warn(NO_DIRECT_POLYFILL_IMPORT);\n            bodyPath.remove();\n          }\n        });\n      },\n      exit: function exit(path) {\n        var _this = this;\n\n        var filtered = (0, _utils.intersection)(polyfills, this.polyfillsSet, available);\n        var reversed = Array.from(filtered).reverse();\n\n        for (var _iterator = _createForOfIteratorHelperLoose(reversed), _step; !(_step = _iterator()).done;) {\n          var module = _step.value;\n\n          if (!this.injectedPolyfills.has(module)) {\n            (0, _utils.createImport)(path, module);\n          }\n        }\n\n        filtered.forEach(function (module) {\n          return _this.injectedPolyfills.add(module);\n        });\n      }\n    },\n    Import: function Import() {\n      this.addUnsupported(_builtInDefinitions.PromiseDependencies);\n    },\n    Function: function Function(_ref2) {\n      var node = _ref2.node;\n\n      if (node.async) {\n        this.addUnsupported(_builtInDefinitions.PromiseDependencies);\n      }\n    },\n    \"ForOfStatement|ArrayPattern\": function ForOfStatementArrayPattern() {\n      this.addUnsupported(_builtInDefinitions.CommonIterators);\n    },\n    SpreadElement: function SpreadElement(_ref3) {\n      var parentPath = _ref3.parentPath;\n\n      if (!parentPath.isObjectExpression()) {\n        this.addUnsupported(_builtInDefinitions.CommonIterators);\n      }\n    },\n    YieldExpression: function YieldExpression(_ref4) {\n      var node = _ref4.node;\n\n      if (node.delegate) {\n        this.addUnsupported(_builtInDefinitions.CommonIterators);\n      }\n    },\n    ReferencedIdentifier: function ReferencedIdentifier(_ref5) {\n      var name = _ref5.node.name,\n          scope = _ref5.scope;\n      if (scope.getBindingIdentifier(name)) return;\n      this.addBuiltInDependencies(name);\n    },\n    MemberExpression: function MemberExpression(path) {\n      var source = resolveSource(path.get(\"object\"));\n      var key = resolveKey(path.get(\"property\"));\n      this.addPropertyDependencies(source, key);\n    },\n    ObjectPattern: function ObjectPattern(path) {\n      var parentPath = path.parentPath,\n          parent = path.parent,\n          key = path.key;\n      var source;\n\n      if (parentPath.isVariableDeclarator()) {\n        source = resolveSource(parentPath.get(\"init\"));\n      } else if (parentPath.isAssignmentExpression()) {\n        source = resolveSource(parentPath.get(\"right\"));\n      } else if (parentPath.isFunctionExpression()) {\n        var grand = parentPath.parentPath;\n\n        if (grand.isCallExpression() || grand.isNewExpression()) {\n          if (grand.node.callee === parent) {\n            source = resolveSource(grand.get(\"arguments\")[key]);\n          }\n        }\n      }\n\n      for (var _iterator2 = _createForOfIteratorHelperLoose(path.get(\"properties\")), _step2; !(_step2 = _iterator2()).done;) {\n        var property = _step2.value;\n\n        if (property.isObjectProperty()) {\n          var _key = resolveKey(property.get(\"key\"));\n\n          this.addPropertyDependencies(source, _key);\n        }\n      }\n    },\n    BinaryExpression: function BinaryExpression(path) {\n      if (path.node.operator !== \"in\") return;\n      var source = resolveSource(path.get(\"right\"));\n      var key = resolveKey(path.get(\"left\"), true);\n      this.addPropertyDependencies(source, key);\n    }\n  };\n  return {\n    name: \"corejs3-usage\",\n    pre: function pre() {\n      this.injectedPolyfills = new Set();\n      this.polyfillsSet = new Set();\n\n      this.addUnsupported = function (builtIn) {\n        var modules = Array.isArray(builtIn) ? builtIn : [builtIn];\n\n        for (var _iterator3 = _createForOfIteratorHelperLoose(modules), _step3; !(_step3 = _iterator3()).done;) {\n          var module = _step3.value;\n          this.polyfillsSet.add(module);\n        }\n      };\n\n      this.addBuiltInDependencies = function (builtIn) {\n        if ((0, _utils.has)(_builtInDefinitions.BuiltIns, builtIn)) {\n          var BuiltInDependencies = _builtInDefinitions.BuiltIns[builtIn];\n          this.addUnsupported(BuiltInDependencies);\n        }\n      };\n\n      this.addPropertyDependencies = function () {\n        var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var key = arguments.length > 1 ? arguments[1] : undefined;\n        var builtIn = source.builtIn,\n            instanceType = source.instanceType,\n            isNamespaced = source.isNamespaced;\n        if (isNamespaced) return;\n\n        if (_builtInDefinitions.PossibleGlobalObjects.has(builtIn)) {\n          this.addBuiltInDependencies(key);\n        } else if ((0, _utils.has)(_builtInDefinitions.StaticProperties, builtIn)) {\n          var BuiltInProperties = _builtInDefinitions.StaticProperties[builtIn];\n\n          if ((0, _utils.has)(BuiltInProperties, key)) {\n            var StaticPropertyDependencies = BuiltInProperties[key];\n            return this.addUnsupported(StaticPropertyDependencies);\n          }\n        }\n\n        if (!(0, _utils.has)(_builtInDefinitions.InstanceProperties, key)) return;\n        var InstancePropertyDependencies = _builtInDefinitions.InstanceProperties[key];\n\n        if (instanceType) {\n          InstancePropertyDependencies = InstancePropertyDependencies.filter(function (m) {\n            return m.includes(instanceType) || _builtInDefinitions.CommonInstanceDependencies.has(m);\n          });\n        }\n\n        this.addUnsupported(InstancePropertyDependencies);\n      };\n    },\n    post: function post() {\n      if (debug) {\n        (0, _debug.logUsagePolyfills)(this.injectedPolyfills, this.file.opts.filename, polyfillTargets, _data.default);\n      }\n    },\n    visitor: addAndRemovePolyfillImports\n  };\n}","map":{"version":3,"sources":["/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/@expo/config/node_modules/@babel/preset-env/lib/polyfills/corejs3/usage-plugin.js"],"names":["Object","defineProperty","exports","value","default","_default","_data","_interopRequireDefault","require","_corejs3ShippedProposals","_getModulesListForTargetVersion","_helperCompilationTargets","_builtInDefinitions","_utils","_debug","obj","__esModule","NO_DIRECT_POLYFILL_IMPORT","corejs3PolyfillsWithoutProposals","keys","filter","name","startsWith","reduce","memo","key","corejs3PolyfillsWithShippedProposals","_","corejs","include","exclude","polyfillTargets","proposals","shippedProposals","debug","polyfills","filterItems","available","Set","version","resolveKey","path","computed","node","parent","scope","isStringLiteral","isIdentifier","getBindingIdentifier","evaluate","resolveSource","builtIn","instanceType","deopt","undefined","getType","isNamespaced","addAndRemovePolyfillImports","ImportDeclaration","isPolyfillSource","getImportSource","console","warn","remove","Program","enter","get","forEach","bodyPath","getRequireSource","exit","filtered","intersection","polyfillsSet","reversed","Array","from","reverse","module","injectedPolyfills","has","createImport","add","Import","addUnsupported","PromiseDependencies","Function","async","CommonIterators","SpreadElement","parentPath","isObjectExpression","YieldExpression","delegate","ReferencedIdentifier","addBuiltInDependencies","MemberExpression","source","addPropertyDependencies","ObjectPattern","isVariableDeclarator","isAssignmentExpression","isFunctionExpression","grand","isCallExpression","isNewExpression","callee","property","isObjectProperty","BinaryExpression","operator","pre","modules","isArray","BuiltIns","BuiltInDependencies","PossibleGlobalObjects","StaticProperties","BuiltInProperties","StaticPropertyDependencies","InstanceProperties","InstancePropertyDependencies","m","includes","CommonInstanceDependencies","post","logUsagePolyfills","file","opts","filename","visitor"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _data = _interopRequireDefault(require(\"core-js-compat/data.json\"));\n\nvar _corejs3ShippedProposals = _interopRequireDefault(require(\"@babel/compat-data/corejs3-shipped-proposals\"));\n\nvar _getModulesListForTargetVersion = _interopRequireDefault(require(\"core-js-compat/get-modules-list-for-target-version\"));\n\nvar _helperCompilationTargets = require(\"@babel/helper-compilation-targets\");\n\nvar _builtInDefinitions = require(\"./built-in-definitions\");\n\nvar _utils = require(\"../../utils\");\n\nvar _debug = require(\"../../debug\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst NO_DIRECT_POLYFILL_IMPORT = `\n  When setting \\`useBuiltIns: 'usage'\\`, polyfills are automatically imported when needed.\n  Please remove the direct import of \\`core-js\\` or use \\`useBuiltIns: 'entry'\\` instead.`;\nconst corejs3PolyfillsWithoutProposals = Object.keys(_data.default).filter(name => !name.startsWith(\"esnext.\")).reduce((memo, key) => {\n  memo[key] = _data.default[key];\n  return memo;\n}, {});\n\nconst corejs3PolyfillsWithShippedProposals = _corejs3ShippedProposals.default.reduce((memo, key) => {\n  memo[key] = _data.default[key];\n  return memo;\n}, Object.assign({}, corejs3PolyfillsWithoutProposals));\n\nfunction _default(_, {\n  corejs,\n  include,\n  exclude,\n  polyfillTargets,\n  proposals,\n  shippedProposals,\n  debug\n}) {\n  const polyfills = (0, _helperCompilationTargets.filterItems)(proposals ? _data.default : shippedProposals ? corejs3PolyfillsWithShippedProposals : corejs3PolyfillsWithoutProposals, include, exclude, polyfillTargets, null);\n  const available = new Set((0, _getModulesListForTargetVersion.default)(corejs.version));\n\n  function resolveKey(path, computed) {\n    const {\n      node,\n      parent,\n      scope\n    } = path;\n    if (path.isStringLiteral()) return node.value;\n    const {\n      name\n    } = node;\n    const isIdentifier = path.isIdentifier();\n    if (isIdentifier && !(computed || parent.computed)) return name;\n\n    if (!isIdentifier || scope.getBindingIdentifier(name)) {\n      const {\n        value\n      } = path.evaluate();\n      if (typeof value === \"string\") return value;\n    }\n  }\n\n  function resolveSource(path) {\n    const {\n      node,\n      scope\n    } = path;\n    let builtIn, instanceType;\n\n    if (node) {\n      builtIn = node.name;\n\n      if (!path.isIdentifier() || scope.getBindingIdentifier(builtIn)) {\n        const {\n          deopt,\n          value\n        } = path.evaluate();\n\n        if (value !== undefined) {\n          instanceType = (0, _utils.getType)(value);\n        } else if (deopt == null ? void 0 : deopt.isIdentifier()) {\n          builtIn = deopt.node.name;\n        }\n      }\n    }\n\n    return {\n      builtIn,\n      instanceType,\n      isNamespaced: (0, _utils.isNamespaced)(path)\n    };\n  }\n\n  const addAndRemovePolyfillImports = {\n    ImportDeclaration(path) {\n      if ((0, _utils.isPolyfillSource)((0, _utils.getImportSource)(path))) {\n        console.warn(NO_DIRECT_POLYFILL_IMPORT);\n        path.remove();\n      }\n    },\n\n    Program: {\n      enter(path) {\n        path.get(\"body\").forEach(bodyPath => {\n          if ((0, _utils.isPolyfillSource)((0, _utils.getRequireSource)(bodyPath))) {\n            console.warn(NO_DIRECT_POLYFILL_IMPORT);\n            bodyPath.remove();\n          }\n        });\n      },\n\n      exit(path) {\n        const filtered = (0, _utils.intersection)(polyfills, this.polyfillsSet, available);\n        const reversed = Array.from(filtered).reverse();\n\n        for (const module of reversed) {\n          if (!this.injectedPolyfills.has(module)) {\n            (0, _utils.createImport)(path, module);\n          }\n        }\n\n        filtered.forEach(module => this.injectedPolyfills.add(module));\n      }\n\n    },\n\n    Import() {\n      this.addUnsupported(_builtInDefinitions.PromiseDependencies);\n    },\n\n    Function({\n      node\n    }) {\n      if (node.async) {\n        this.addUnsupported(_builtInDefinitions.PromiseDependencies);\n      }\n    },\n\n    \"ForOfStatement|ArrayPattern\"() {\n      this.addUnsupported(_builtInDefinitions.CommonIterators);\n    },\n\n    SpreadElement({\n      parentPath\n    }) {\n      if (!parentPath.isObjectExpression()) {\n        this.addUnsupported(_builtInDefinitions.CommonIterators);\n      }\n    },\n\n    YieldExpression({\n      node\n    }) {\n      if (node.delegate) {\n        this.addUnsupported(_builtInDefinitions.CommonIterators);\n      }\n    },\n\n    ReferencedIdentifier({\n      node: {\n        name\n      },\n      scope\n    }) {\n      if (scope.getBindingIdentifier(name)) return;\n      this.addBuiltInDependencies(name);\n    },\n\n    MemberExpression(path) {\n      const source = resolveSource(path.get(\"object\"));\n      const key = resolveKey(path.get(\"property\"));\n      this.addPropertyDependencies(source, key);\n    },\n\n    ObjectPattern(path) {\n      const {\n        parentPath,\n        parent,\n        key\n      } = path;\n      let source;\n\n      if (parentPath.isVariableDeclarator()) {\n        source = resolveSource(parentPath.get(\"init\"));\n      } else if (parentPath.isAssignmentExpression()) {\n        source = resolveSource(parentPath.get(\"right\"));\n      } else if (parentPath.isFunctionExpression()) {\n        const grand = parentPath.parentPath;\n\n        if (grand.isCallExpression() || grand.isNewExpression()) {\n          if (grand.node.callee === parent) {\n            source = resolveSource(grand.get(\"arguments\")[key]);\n          }\n        }\n      }\n\n      for (const property of path.get(\"properties\")) {\n        if (property.isObjectProperty()) {\n          const key = resolveKey(property.get(\"key\"));\n          this.addPropertyDependencies(source, key);\n        }\n      }\n    },\n\n    BinaryExpression(path) {\n      if (path.node.operator !== \"in\") return;\n      const source = resolveSource(path.get(\"right\"));\n      const key = resolveKey(path.get(\"left\"), true);\n      this.addPropertyDependencies(source, key);\n    }\n\n  };\n  return {\n    name: \"corejs3-usage\",\n\n    pre() {\n      this.injectedPolyfills = new Set();\n      this.polyfillsSet = new Set();\n\n      this.addUnsupported = function (builtIn) {\n        const modules = Array.isArray(builtIn) ? builtIn : [builtIn];\n\n        for (const module of modules) {\n          this.polyfillsSet.add(module);\n        }\n      };\n\n      this.addBuiltInDependencies = function (builtIn) {\n        if ((0, _utils.has)(_builtInDefinitions.BuiltIns, builtIn)) {\n          const BuiltInDependencies = _builtInDefinitions.BuiltIns[builtIn];\n          this.addUnsupported(BuiltInDependencies);\n        }\n      };\n\n      this.addPropertyDependencies = function (source = {}, key) {\n        const {\n          builtIn,\n          instanceType,\n          isNamespaced\n        } = source;\n        if (isNamespaced) return;\n\n        if (_builtInDefinitions.PossibleGlobalObjects.has(builtIn)) {\n          this.addBuiltInDependencies(key);\n        } else if ((0, _utils.has)(_builtInDefinitions.StaticProperties, builtIn)) {\n          const BuiltInProperties = _builtInDefinitions.StaticProperties[builtIn];\n\n          if ((0, _utils.has)(BuiltInProperties, key)) {\n            const StaticPropertyDependencies = BuiltInProperties[key];\n            return this.addUnsupported(StaticPropertyDependencies);\n          }\n        }\n\n        if (!(0, _utils.has)(_builtInDefinitions.InstanceProperties, key)) return;\n        let InstancePropertyDependencies = _builtInDefinitions.InstanceProperties[key];\n\n        if (instanceType) {\n          InstancePropertyDependencies = InstancePropertyDependencies.filter(m => m.includes(instanceType) || _builtInDefinitions.CommonInstanceDependencies.has(m));\n        }\n\n        this.addUnsupported(InstancePropertyDependencies);\n      };\n    },\n\n    post() {\n      if (debug) {\n        (0, _debug.logUsagePolyfills)(this.injectedPolyfills, this.file.opts.filename, polyfillTargets, _data.default);\n      }\n    },\n\n    visitor: addAndRemovePolyfillImports\n  };\n}"]},"metadata":{},"sourceType":"script"}