{"ast":null,"code":"'use strict';\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar FillRateHelper = require(\"../FillRateHelper\");\n\nvar rowFramesGlobal;\nvar dataGlobal = [{\n  key: 'header'\n}, {\n  key: 'a'\n}, {\n  key: 'b'\n}, {\n  key: 'c'\n}, {\n  key: 'd'\n}, {\n  key: 'footer'\n}];\n\nfunction getFrameMetrics(index) {\n  var frame = rowFramesGlobal[dataGlobal[index].key];\n  return {\n    length: frame.height,\n    offset: frame.y,\n    inLayout: frame.inLayout\n  };\n}\n\nfunction computeResult(_ref) {\n  var helper = _ref.helper,\n      props = _ref.props,\n      state = _ref.state,\n      scroll = _ref.scroll;\n  helper.activate();\n  return helper.computeBlankness(_objectSpread({\n    data: dataGlobal,\n    getItemCount: function getItemCount(data2) {\n      return data2.length;\n    },\n    initialNumToRender: 10\n  }, props || {}), _objectSpread({\n    first: 1,\n    last: 2\n  }, state || {}), _objectSpread({\n    offset: 0,\n    visibleLength: 100\n  }, scroll || {}));\n}\n\ndescribe('computeBlankness', function () {\n  beforeEach(function () {\n    FillRateHelper.setSampleRate(1);\n    FillRateHelper.setMinSampleCount(0);\n  });\n  it('computes correct blankness of viewport', function () {\n    var helper = new FillRateHelper(getFrameMetrics);\n    rowFramesGlobal = {\n      header: {\n        y: 0,\n        height: 0,\n        inLayout: true\n      },\n      a: {\n        y: 0,\n        height: 50,\n        inLayout: true\n      },\n      b: {\n        y: 50,\n        height: 50,\n        inLayout: true\n      }\n    };\n    var blankness = computeResult({\n      helper: helper\n    });\n    expect(blankness).toBe(0);\n    blankness = computeResult({\n      helper: helper,\n      state: {\n        last: 1\n      }\n    });\n    expect(blankness).toBe(0.5);\n    blankness = computeResult({\n      helper: helper,\n      scroll: {\n        offset: 25\n      }\n    });\n    expect(blankness).toBe(0.25);\n    blankness = computeResult({\n      helper: helper,\n      scroll: {\n        visibleLength: 400\n      }\n    });\n    expect(blankness).toBe(0.75);\n    blankness = computeResult({\n      helper: helper,\n      scroll: {\n        offset: 100\n      }\n    });\n    expect(blankness).toBe(1);\n  });\n  it('skips frames that are not in layout', function () {\n    var helper = new FillRateHelper(getFrameMetrics);\n    rowFramesGlobal = {\n      header: {\n        y: 0,\n        height: 0,\n        inLayout: false\n      },\n      a: {\n        y: 0,\n        height: 10,\n        inLayout: false\n      },\n      b: {\n        y: 10,\n        height: 30,\n        inLayout: true\n      },\n      c: {\n        y: 40,\n        height: 40,\n        inLayout: true\n      },\n      d: {\n        y: 80,\n        height: 20,\n        inLayout: false\n      },\n      footer: {\n        y: 100,\n        height: 0,\n        inLayout: false\n      }\n    };\n    var blankness = computeResult({\n      helper: helper,\n      state: {\n        last: 4\n      }\n    });\n    expect(blankness).toBe(0.3);\n  });\n  it('sampling rate can disable', function () {\n    var helper = new FillRateHelper(getFrameMetrics);\n    rowFramesGlobal = {\n      header: {\n        y: 0,\n        height: 0,\n        inLayout: true\n      },\n      a: {\n        y: 0,\n        height: 40,\n        inLayout: true\n      },\n      b: {\n        y: 40,\n        height: 40,\n        inLayout: true\n      }\n    };\n    var blankness = computeResult({\n      helper: helper\n    });\n    expect(blankness).toBe(0.2);\n    FillRateHelper.setSampleRate(0);\n    helper = new FillRateHelper(getFrameMetrics);\n    blankness = computeResult({\n      helper: helper\n    });\n    expect(blankness).toBe(0);\n  });\n  it('can handle multiple listeners and unsubscribe', function () {\n    var listeners = [jest.fn(), jest.fn(), jest.fn()];\n    var subscriptions = listeners.map(function (listener) {\n      return FillRateHelper.addListener(listener);\n    });\n    subscriptions[1].remove();\n    var helper = new FillRateHelper(getFrameMetrics);\n    rowFramesGlobal = {\n      header: {\n        y: 0,\n        height: 0,\n        inLayout: true\n      },\n      a: {\n        y: 0,\n        height: 40,\n        inLayout: true\n      },\n      b: {\n        y: 40,\n        height: 40,\n        inLayout: true\n      }\n    };\n    var blankness = computeResult({\n      helper: helper\n    });\n    expect(blankness).toBe(0.2);\n    helper.deactivateAndFlush();\n    var info0 = listeners[0].mock.calls[0][0];\n    expect(info0.pixels_blank / info0.pixels_sampled).toBe(blankness);\n    expect(listeners[1]).not.toBeCalled();\n    var info1 = listeners[2].mock.calls[0][0];\n    expect(info1.pixels_blank / info1.pixels_sampled).toBe(blankness);\n  });\n});","map":{"version":3,"sources":["/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/react-native/Libraries/Lists/__tests__/FillRateHelper-test.js"],"names":["FillRateHelper","require","rowFramesGlobal","dataGlobal","key","getFrameMetrics","index","frame","length","height","offset","y","inLayout","computeResult","helper","props","state","scroll","activate","computeBlankness","data","getItemCount","data2","initialNumToRender","first","last","visibleLength","describe","beforeEach","setSampleRate","setMinSampleCount","it","header","a","b","blankness","expect","toBe","c","d","footer","listeners","jest","fn","subscriptions","map","listener","addListener","remove","deactivateAndFlush","info0","mock","calls","pixels_blank","pixels_sampled","not","toBeCalled","info1"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @emails oncall+react_native\n */\n\n'use strict';\n\nconst FillRateHelper = require('../FillRateHelper');\n\nlet rowFramesGlobal;\nconst dataGlobal = [\n  {key: 'header'},\n  {key: 'a'},\n  {key: 'b'},\n  {key: 'c'},\n  {key: 'd'},\n  {key: 'footer'},\n];\nfunction getFrameMetrics(index: number) {\n  const frame = rowFramesGlobal[dataGlobal[index].key];\n  return {length: frame.height, offset: frame.y, inLayout: frame.inLayout};\n}\n\nfunction computeResult({helper, props, state, scroll}): number {\n  helper.activate();\n  return helper.computeBlankness(\n    {\n      data: dataGlobal,\n      getItemCount: data2 => data2.length,\n      initialNumToRender: 10,\n      ...(props || {}),\n    },\n    {first: 1, last: 2, ...(state || {})},\n    {offset: 0, visibleLength: 100, ...(scroll || {})},\n  );\n}\n\ndescribe('computeBlankness', function() {\n  beforeEach(() => {\n    FillRateHelper.setSampleRate(1);\n    FillRateHelper.setMinSampleCount(0);\n  });\n\n  it('computes correct blankness of viewport', function() {\n    const helper = new FillRateHelper(getFrameMetrics);\n    rowFramesGlobal = {\n      header: {y: 0, height: 0, inLayout: true},\n      a: {y: 0, height: 50, inLayout: true},\n      b: {y: 50, height: 50, inLayout: true},\n    };\n    let blankness = computeResult({helper});\n    expect(blankness).toBe(0);\n    blankness = computeResult({helper, state: {last: 1}});\n    expect(blankness).toBe(0.5);\n    blankness = computeResult({helper, scroll: {offset: 25}});\n    expect(blankness).toBe(0.25);\n    blankness = computeResult({helper, scroll: {visibleLength: 400}});\n    expect(blankness).toBe(0.75);\n    blankness = computeResult({helper, scroll: {offset: 100}});\n    expect(blankness).toBe(1);\n  });\n\n  it('skips frames that are not in layout', function() {\n    const helper = new FillRateHelper(getFrameMetrics);\n    rowFramesGlobal = {\n      header: {y: 0, height: 0, inLayout: false},\n      a: {y: 0, height: 10, inLayout: false},\n      b: {y: 10, height: 30, inLayout: true},\n      c: {y: 40, height: 40, inLayout: true},\n      d: {y: 80, height: 20, inLayout: false},\n      footer: {y: 100, height: 0, inLayout: false},\n    };\n    const blankness = computeResult({helper, state: {last: 4}});\n    expect(blankness).toBe(0.3);\n  });\n\n  it('sampling rate can disable', function() {\n    let helper = new FillRateHelper(getFrameMetrics);\n    rowFramesGlobal = {\n      header: {y: 0, height: 0, inLayout: true},\n      a: {y: 0, height: 40, inLayout: true},\n      b: {y: 40, height: 40, inLayout: true},\n    };\n    let blankness = computeResult({helper});\n    expect(blankness).toBe(0.2);\n\n    FillRateHelper.setSampleRate(0);\n\n    helper = new FillRateHelper(getFrameMetrics);\n    blankness = computeResult({helper});\n    expect(blankness).toBe(0);\n  });\n\n  it('can handle multiple listeners and unsubscribe', function() {\n    const listeners = [jest.fn(), jest.fn(), jest.fn()];\n    const subscriptions = listeners.map(listener =>\n      FillRateHelper.addListener(listener),\n    );\n    subscriptions[1].remove();\n    const helper = new FillRateHelper(getFrameMetrics);\n    rowFramesGlobal = {\n      header: {y: 0, height: 0, inLayout: true},\n      a: {y: 0, height: 40, inLayout: true},\n      b: {y: 40, height: 40, inLayout: true},\n    };\n    const blankness = computeResult({helper});\n    expect(blankness).toBe(0.2);\n    helper.deactivateAndFlush();\n    const info0 = listeners[0].mock.calls[0][0];\n    expect(info0.pixels_blank / info0.pixels_sampled).toBe(blankness);\n    expect(listeners[1]).not.toBeCalled();\n    const info1 = listeners[2].mock.calls[0][0];\n    expect(info1.pixels_blank / info1.pixels_sampled).toBe(blankness);\n  });\n});\n"]},"metadata":{},"sourceType":"script"}