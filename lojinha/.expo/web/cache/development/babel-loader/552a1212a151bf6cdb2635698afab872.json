{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { Platform } from '@unimodules/core';\nimport invariant from 'invariant';\nvar EventTypes = ['url'];\nvar listeners = [];\nexport default {\n  addEventListener: function addEventListener(type, listener) {\n    invariant(EventTypes.indexOf(type) !== -1, \"Linking.addEventListener(): \" + type + \" is not a valid event\");\n\n    var nativeListener = function nativeListener(nativeEvent) {\n      return listener({\n        url: window.location.href,\n        nativeEvent: nativeEvent\n      });\n    };\n\n    listeners.push({\n      listener: listener,\n      nativeListener: nativeListener\n    });\n    window.addEventListener('message', nativeListener, false);\n  },\n  removeEventListener: function removeEventListener(type, listener) {\n    invariant(EventTypes.indexOf(type) !== -1, \"Linking.removeEventListener(): \" + type + \" is not a valid event.\");\n    var listenerIndex = listeners.findIndex(function (pair) {\n      return pair.listener === listener;\n    });\n    invariant(listenerIndex !== -1, 'Linking.removeEventListener(): cannot remove an unregistered event listener.');\n    var nativeListener = listeners[listenerIndex].nativeListener;\n    window.removeEventListener('message', nativeListener, false);\n    listeners.splice(listenerIndex, 1);\n  },\n  canOpenURL: function canOpenURL(url) {\n    return _regeneratorRuntime.async(function canOpenURL$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", true);\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  },\n  getInitialURL: function getInitialURL() {\n    return _regeneratorRuntime.async(function getInitialURL$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (Platform.isDOMAvailable) {\n              _context2.next = 2;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", '');\n\n          case 2:\n            return _context2.abrupt(\"return\", window.location.href);\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  },\n  openURL: function openURL(url) {\n    return _regeneratorRuntime.async(function openURL$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (Platform.isDOMAvailable) {\n              window.location = new URL(url, window.location).toString();\n            }\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n};","map":{"version":3,"sources":["/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/expo-linking/src/ExpoLinking.web.ts"],"names":["Platform","invariant","EventTypes","listeners","addEventListener","type","listener","indexOf","nativeListener","nativeEvent","url","window","location","href","push","removeEventListener","listenerIndex","findIndex","pair","splice","canOpenURL","getInitialURL","isDOMAvailable","openURL","URL","toString"],"mappings":";AAAA,SAASA,QAAT,QAAyB,kBAAzB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AAIA,IAAMC,UAAU,GAAG,CAAC,KAAD,CAAnB;AAEA,IAAMC,SAAyE,GAAG,EAAlF;AAEA,eAAe;AACbC,EAAAA,gBADa,4BACIC,IADJ,EACiBC,QADjB,EAC8C;AACzDL,IAAAA,SAAS,CACPC,UAAU,CAACK,OAAX,CAAmBF,IAAnB,MAA6B,CAAC,CADvB,mCAEwBA,IAFxB,2BAAT;;AAIA,QAAMG,cAAiC,GAAG,SAApCA,cAAoC,CAAAC,WAAW;AAAA,aACnDH,QAAQ,CAAC;AAAEI,QAAAA,GAAG,EAAEC,MAAM,CAACC,QAAP,CAAgBC,IAAvB;AAA6BJ,QAAAA,WAAW,EAAXA;AAA7B,OAAD,CAD2C;AAAA,KAArD;;AAEAN,IAAAA,SAAS,CAACW,IAAV,CAAe;AAAER,MAAAA,QAAQ,EAARA,QAAF;AAAYE,MAAAA,cAAc,EAAdA;AAAZ,KAAf;AACAG,IAAAA,MAAM,CAACP,gBAAP,CAAwB,SAAxB,EAAmCI,cAAnC,EAAmD,KAAnD;AACD,GAVY;AAYbO,EAAAA,mBAZa,+BAYOV,IAZP,EAYoBC,QAZpB,EAYiD;AAC5DL,IAAAA,SAAS,CACPC,UAAU,CAACK,OAAX,CAAmBF,IAAnB,MAA6B,CAAC,CADvB,sCAE2BA,IAF3B,4BAAT;AAIA,QAAMW,aAAa,GAAGb,SAAS,CAACc,SAAV,CAAoB,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACZ,QAAL,KAAkBA,QAAtB;AAAA,KAAxB,CAAtB;AACAL,IAAAA,SAAS,CACPe,aAAa,KAAK,CAAC,CADZ,EAEP,8EAFO,CAAT;AAIA,QAAMR,cAAc,GAAGL,SAAS,CAACa,aAAD,CAAT,CAAyBR,cAAhD;AACAG,IAAAA,MAAM,CAACI,mBAAP,CAA2B,SAA3B,EAAsCP,cAAtC,EAAsD,KAAtD;AACAL,IAAAA,SAAS,CAACgB,MAAV,CAAiBH,aAAjB,EAAgC,CAAhC;AACD,GAzBY;AA2BPI,EAAAA,UA3BO,sBA2BIV,GA3BJ;AAAA;AAAA;AAAA;AAAA;AAAA,6CA6BJ,IA7BI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgCPW,EAAAA,aAhCO;AAAA;AAAA;AAAA;AAAA;AAAA,gBAiCNrB,QAAQ,CAACsB,cAjCH;AAAA;AAAA;AAAA;;AAAA,8CAiC0B,EAjC1B;;AAAA;AAAA,8CAkCJX,MAAM,CAACC,QAAP,CAAgBC,IAlCZ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqCPU,EAAAA,OArCO,mBAqCCb,GArCD;AAAA;AAAA;AAAA;AAAA;AAsCX,gBAAIV,QAAQ,CAACsB,cAAb,EAA6B;AAE3BX,cAAAA,MAAM,CAACC,QAAP,GAAkB,IAAIY,GAAJ,CAAQd,GAAR,EAAaC,MAAM,CAACC,QAApB,EAA8Ba,QAA9B,EAAlB;AACD;;AAzCU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAf","sourcesContent":["import { Platform } from '@unimodules/core';\nimport invariant from 'invariant';\n\nimport { NativeURLListener, URLListener } from './Linking.types';\n\nconst EventTypes = ['url'];\n\nconst listeners: { listener: URLListener; nativeListener: NativeURLListener }[] = [];\n\nexport default {\n  addEventListener(type: 'url', listener: URLListener): void {\n    invariant(\n      EventTypes.indexOf(type) !== -1,\n      `Linking.addEventListener(): ${type} is not a valid event`\n    );\n    const nativeListener: NativeURLListener = nativeEvent =>\n      listener({ url: window.location.href, nativeEvent });\n    listeners.push({ listener, nativeListener });\n    window.addEventListener('message', nativeListener, false);\n  },\n\n  removeEventListener(type: 'url', listener: URLListener): void {\n    invariant(\n      EventTypes.indexOf(type) !== -1,\n      `Linking.removeEventListener(): ${type} is not a valid event.`\n    );\n    const listenerIndex = listeners.findIndex(pair => pair.listener === listener);\n    invariant(\n      listenerIndex !== -1,\n      'Linking.removeEventListener(): cannot remove an unregistered event listener.'\n    );\n    const nativeListener = listeners[listenerIndex].nativeListener;\n    window.removeEventListener('message', nativeListener, false);\n    listeners.splice(listenerIndex, 1);\n  },\n\n  async canOpenURL(url: string): Promise<boolean> {\n    // In reality this should be able to return false for links like `chrome://` on chrome.\n    return true;\n  },\n\n  async getInitialURL(): Promise<string> {\n    if (!Platform.isDOMAvailable) return '';\n    return window.location.href;\n  },\n\n  async openURL(url: string): Promise<void> {\n    if (Platform.isDOMAvailable) {\n      // @ts-ignore\n      window.location = new URL(url, window.location).toString();\n    }\n  },\n};\n"]},"metadata":{},"sourceType":"module"}