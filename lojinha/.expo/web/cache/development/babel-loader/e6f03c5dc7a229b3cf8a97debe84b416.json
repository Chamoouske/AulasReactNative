{"ast":null,"code":"'use strict';\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nvar _jsxFileName = \"/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/react-native/RNTester/js/examples/Animated/AnimatedGratuitousApp/AnExChained.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar React = require('react');\n\nvar Animated = require(\"react-native-web/dist/exports/Animated\").default;\n\nvar PanResponder = require(\"react-native-web/dist/exports/PanResponder\").default;\n\nvar StyleSheet = require(\"react-native-web/dist/exports/StyleSheet\").default;\n\nvar View = require(\"react-native-web/dist/exports/View\").default;\n\nvar AnExChained = function (_React$Component) {\n  _inherits(AnExChained, _React$Component);\n\n  var _super = _createSuper(AnExChained);\n\n  function AnExChained(props) {\n    var _this;\n\n    _classCallCheck(this, AnExChained);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      stickers: [new Animated.ValueXY()]\n    };\n    var stickerConfig = {\n      tension: 2,\n      friction: 3\n    };\n\n    for (var i = 0; i < 4; i++) {\n      var sticker = new Animated.ValueXY();\n      Animated.spring(sticker, _objectSpread(_objectSpread({}, stickerConfig), {}, {\n        toValue: _this.state.stickers[i],\n        useNativeDriver: false\n      })).start();\n\n      _this.state.stickers.push(sticker);\n    }\n\n    var releaseChain = function releaseChain(e, gestureState) {\n      _this.state.stickers[0].flattenOffset();\n\n      Animated.sequence([Animated.decay(_this.state.stickers[0], {\n        velocity: {\n          x: gestureState.vx,\n          y: gestureState.vy\n        },\n        deceleration: 0.997,\n        useNativeDriver: false\n      }), Animated.spring(_this.state.stickers[0], {\n        toValue: {\n          x: 0,\n          y: 0\n        },\n        useNativeDriver: false\n      })]).start();\n    };\n\n    _this.state.chainResponder = PanResponder.create({\n      onStartShouldSetPanResponder: function onStartShouldSetPanResponder() {\n        return true;\n      },\n      onPanResponderGrant: function onPanResponderGrant() {\n        _this.state.stickers[0].stopAnimation(function (value) {\n          _this.state.stickers[0].setOffset(value);\n\n          _this.state.stickers[0].setValue({\n            x: 0,\n            y: 0\n          });\n        });\n      },\n      onPanResponderMove: Animated.event([null, {\n        dx: _this.state.stickers[0].x,\n        dy: _this.state.stickers[0].y\n      }], {\n        useNativeDriver: false\n      }),\n      onPanResponderRelease: releaseChain,\n      onPanResponderTerminate: releaseChain\n    });\n    return _this;\n  }\n\n  _createClass(AnExChained, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: styles.chained,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 7\n        }\n      }, this.state.stickers.map(function (_, i) {\n        var j = _this2.state.stickers.length - i - 1;\n        var handlers = j === 0 ? _this2.state.chainResponder.panHandlers : {};\n        return React.createElement(Animated.Image, _extends({}, handlers, {\n          key: i,\n          source: CHAIN_IMGS[j],\n          style: [styles.sticker, {\n            transform: _this2.state.stickers[j].getTranslateTransform()\n          }],\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }\n        }));\n      }));\n    }\n  }]);\n\n  return AnExChained;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  chained: {\n    alignSelf: 'flex-end',\n    top: -160,\n    right: 126\n  },\n  sticker: {\n    position: 'absolute',\n    height: 120,\n    width: 120,\n    backgroundColor: 'transparent'\n  }\n});\nvar CHAIN_IMGS = [require(\"../../../assets/hawk.png\"), require(\"../../../assets/bunny.png\"), require(\"../../../assets/relay.png\"), require(\"../../../assets/hawk.png\"), require(\"../../../assets/bunny.png\")];\nmodule.exports = AnExChained;","map":{"version":3,"sources":["/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/react-native/RNTester/js/examples/Animated/AnimatedGratuitousApp/AnExChained.js"],"names":["React","require","AnExChained","props","state","stickers","Animated","ValueXY","stickerConfig","tension","friction","i","sticker","spring","toValue","useNativeDriver","start","push","releaseChain","e","gestureState","flattenOffset","sequence","decay","velocity","x","vx","y","vy","deceleration","chainResponder","PanResponder","create","onStartShouldSetPanResponder","onPanResponderGrant","stopAnimation","value","setOffset","setValue","onPanResponderMove","event","dx","dy","onPanResponderRelease","onPanResponderTerminate","styles","chained","map","_","j","length","handlers","panHandlers","CHAIN_IMGS","transform","getTranslateTransform","Component","StyleSheet","alignSelf","top","right","position","height","width","backgroundColor","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\n'use strict';\n\nconst React = require('react');\n\nconst {Animated, PanResponder, StyleSheet, View} = require('react-native');\n\nclass AnExChained extends React.Component<Object, any> {\n  constructor(props: Object) {\n    super(props);\n    this.state = {\n      stickers: [new Animated.ValueXY()], // 1 leader\n    };\n    const stickerConfig = {tension: 2, friction: 3}; // soft spring\n    for (let i = 0; i < 4; i++) {\n      // 4 followers\n      const sticker = new Animated.ValueXY();\n      Animated.spring(sticker, {\n        ...stickerConfig,\n\n        // Animated toValue's are tracked\n        toValue: this.state.stickers[i],\n\n        useNativeDriver: false,\n      }).start();\n      this.state.stickers.push(sticker); // push on the followers\n    }\n    const releaseChain = (e, gestureState) => {\n      this.state.stickers[0].flattenOffset(); // merges offset into value and resets\n      Animated.sequence([\n        // spring to start after decay finishes\n        Animated.decay(this.state.stickers[0], {\n          // coast to a stop\n          velocity: {x: gestureState.vx, y: gestureState.vy},\n\n          deceleration: 0.997,\n          useNativeDriver: false,\n        }),\n        Animated.spring(this.state.stickers[0], {\n          // return to start\n          toValue: {x: 0, y: 0},\n\n          useNativeDriver: false,\n        }),\n      ]).start();\n    };\n    this.state.chainResponder = PanResponder.create({\n      onStartShouldSetPanResponder: () => true,\n      onPanResponderGrant: () => {\n        this.state.stickers[0].stopAnimation(value => {\n          this.state.stickers[0].setOffset(value); // start where sticker animated to\n          this.state.stickers[0].setValue({x: 0, y: 0}); // avoid flicker before next event\n        });\n      },\n      onPanResponderMove: Animated.event(\n        [null, {dx: this.state.stickers[0].x, dy: this.state.stickers[0].y}], // map gesture to leader\n        {useNativeDriver: false},\n      ),\n      onPanResponderRelease: releaseChain,\n      onPanResponderTerminate: releaseChain,\n    });\n  }\n\n  render(): React.Node {\n    return (\n      <View style={styles.chained}>\n        {this.state.stickers.map((_, i) => {\n          const j = this.state.stickers.length - i - 1; // reverse so leader is on top\n          const handlers = j === 0 ? this.state.chainResponder.panHandlers : {};\n          return (\n            <Animated.Image\n              {...handlers}\n              key={i}\n              source={CHAIN_IMGS[j]}\n              style={[\n                styles.sticker,\n                {\n                  transform: this.state.stickers[j].getTranslateTransform(), // simple conversion\n                },\n              ]}\n            />\n          );\n        })}\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  chained: {\n    alignSelf: 'flex-end',\n    top: -160,\n    right: 126,\n  },\n  sticker: {\n    position: 'absolute',\n    height: 120,\n    width: 120,\n    backgroundColor: 'transparent',\n  },\n});\n\nconst CHAIN_IMGS = [\n  require('../../../assets/hawk.png'),\n  require('../../../assets/bunny.png'),\n  require('../../../assets/relay.png'),\n  require('../../../assets/hawk.png'),\n  require('../../../assets/bunny.png'),\n];\n\nmodule.exports = AnExChained;\n"]},"metadata":{},"sourceType":"script"}