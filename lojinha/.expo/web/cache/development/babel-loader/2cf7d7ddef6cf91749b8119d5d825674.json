{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar android_plugins_1 = require(\"../plugins/android-plugins\");\n\nvar Manifest_1 = require(\"./Manifest\");\n\nvar META_APPLICATION_ID = 'com.google.android.gms.ads.APPLICATION_ID';\nvar META_DELAY_APP_MEASUREMENT_INIT = 'com.google.android.gms.ads.DELAY_APP_MEASUREMENT_INIT';\nexports.withAdMob = android_plugins_1.createAndroidManifestPlugin(setAdMobConfig, 'withAdMob');\n\nfunction getGoogleMobileAdsAppId(config) {\n  var _a, _b, _c;\n\n  return (_c = (_b = (_a = config.android) === null || _a === void 0 ? void 0 : _a.config) === null || _b === void 0 ? void 0 : _b.googleMobileAdsAppId) !== null && _c !== void 0 ? _c : null;\n}\n\nexports.getGoogleMobileAdsAppId = getGoogleMobileAdsAppId;\n\nfunction getGoogleMobileAdsAutoInit(config) {\n  var _a, _b, _c;\n\n  return (_c = (_b = (_a = config.android) === null || _a === void 0 ? void 0 : _a.config) === null || _b === void 0 ? void 0 : _b.googleMobileAdsAutoInit) !== null && _c !== void 0 ? _c : false;\n}\n\nexports.getGoogleMobileAdsAutoInit = getGoogleMobileAdsAutoInit;\n\nfunction setAdMobConfig(config, androidManifest) {\n  var appId = getGoogleMobileAdsAppId(config);\n  var autoInit = getGoogleMobileAdsAutoInit(config);\n  var mainApplication = Manifest_1.getMainApplicationOrThrow(androidManifest);\n\n  if (appId) {\n    Manifest_1.addMetaDataItemToMainApplication(mainApplication, META_APPLICATION_ID, appId);\n    Manifest_1.addMetaDataItemToMainApplication(mainApplication, META_DELAY_APP_MEASUREMENT_INIT, String(!autoInit));\n  } else {\n    Manifest_1.removeMetaDataItemFromMainApplication(mainApplication, META_APPLICATION_ID);\n    Manifest_1.removeMetaDataItemFromMainApplication(mainApplication, META_DELAY_APP_MEASUREMENT_INIT);\n  }\n\n  return androidManifest;\n}\n\nexports.setAdMobConfig = setAdMobConfig;","map":{"version":3,"sources":["../../src/android/AdMob.ts"],"names":[],"mappings":";;;;;;AAEA,IAAA,iBAAA,GAAA,OAAA,8BAAA;;AACA,IAAA,UAAA,GAAA,OAAA,cAAA;;AAOA,IAAM,mBAAmB,GAAG,2CAA5B;AACA,IAAM,+BAA+B,GAAG,uDAAxC;AAEa,OAAA,CAAA,SAAA,GAAY,iBAAA,CAAA,2BAAA,CAA4B,cAA5B,EAA4C,WAA5C,CAAZ;;AAEb,SAAgB,uBAAhB,CAAwC,MAAxC,EAA2E;;;AACzE,SAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAO,MAAM,CAAC,OAAd,MAAqB,IAArB,IAAqB,EAAA,KAAA,KAAA,CAArB,GAAqB,KAAA,CAArB,GAAqB,EAAA,CAAE,MAAvB,MAA6B,IAA7B,IAA6B,EAAA,KAAA,KAAA,CAA7B,GAA6B,KAAA,CAA7B,GAA6B,EAAA,CAAE,oBAA/B,MAAmD,IAAnD,IAAmD,EAAA,KAAA,KAAA,CAAnD,GAAmD,EAAnD,GAAuD,IAAvD;AACD;;AAFD,OAAA,CAAA,uBAAA,GAAA,uBAAA;;AAIA,SAAgB,0BAAhB,CAA2C,MAA3C,EAA8E;;;AAC5E,SAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAO,MAAM,CAAC,OAAd,MAAqB,IAArB,IAAqB,EAAA,KAAA,KAAA,CAArB,GAAqB,KAAA,CAArB,GAAqB,EAAA,CAAE,MAAvB,MAA6B,IAA7B,IAA6B,EAAA,KAAA,KAAA,CAA7B,GAA6B,KAAA,CAA7B,GAA6B,EAAA,CAAE,uBAA/B,MAAsD,IAAtD,IAAsD,EAAA,KAAA,KAAA,CAAtD,GAAsD,EAAtD,GAA0D,KAA1D;AACD;;AAFD,OAAA,CAAA,0BAAA,GAAA,0BAAA;;AAIA,SAAgB,cAAhB,CACE,MADF,EAEE,eAFF,EAEkC;AAEhC,MAAM,KAAK,GAAG,uBAAuB,CAAC,MAAD,CAArC;AACA,MAAM,QAAQ,GAAG,0BAA0B,CAAC,MAAD,CAA3C;AACA,MAAM,eAAe,GAAG,UAAA,CAAA,yBAAA,CAA0B,eAA1B,CAAxB;;AAEA,MAAI,KAAJ,EAAW;AACT,IAAA,UAAA,CAAA,gCAAA,CAAiC,eAAjC,EAAkD,mBAAlD,EAAuE,KAAvE;AACA,IAAA,UAAA,CAAA,gCAAA,CACE,eADF,EAEE,+BAFF,EAGE,MAAM,CAAC,CAAC,QAAF,CAHR;AAKD,GAPD,MAOO;AACL,IAAA,UAAA,CAAA,qCAAA,CAAsC,eAAtC,EAAuD,mBAAvD;AACA,IAAA,UAAA,CAAA,qCAAA,CAAsC,eAAtC,EAAuD,+BAAvD;AACD;;AAED,SAAO,eAAP;AACD;;AArBD,OAAA,CAAA,cAAA,GAAA,cAAA","sourcesContent":["import { ExpoConfig } from '@expo/config-types';\n\nimport { createAndroidManifestPlugin } from '../plugins/android-plugins';\nimport {\n  addMetaDataItemToMainApplication,\n  AndroidManifest,\n  getMainApplicationOrThrow,\n  removeMetaDataItemFromMainApplication,\n} from './Manifest';\n\nconst META_APPLICATION_ID = 'com.google.android.gms.ads.APPLICATION_ID';\nconst META_DELAY_APP_MEASUREMENT_INIT = 'com.google.android.gms.ads.DELAY_APP_MEASUREMENT_INIT';\n\nexport const withAdMob = createAndroidManifestPlugin(setAdMobConfig, 'withAdMob');\n\nexport function getGoogleMobileAdsAppId(config: Pick<ExpoConfig, 'android'>) {\n  return config.android?.config?.googleMobileAdsAppId ?? null;\n}\n\nexport function getGoogleMobileAdsAutoInit(config: Pick<ExpoConfig, 'android'>) {\n  return config.android?.config?.googleMobileAdsAutoInit ?? false;\n}\n\nexport function setAdMobConfig(\n  config: Pick<ExpoConfig, 'android'>,\n  androidManifest: AndroidManifest\n) {\n  const appId = getGoogleMobileAdsAppId(config);\n  const autoInit = getGoogleMobileAdsAutoInit(config);\n  const mainApplication = getMainApplicationOrThrow(androidManifest);\n\n  if (appId) {\n    addMetaDataItemToMainApplication(mainApplication, META_APPLICATION_ID, appId);\n    addMetaDataItemToMainApplication(\n      mainApplication,\n      META_DELAY_APP_MEASUREMENT_INIT,\n      String(!autoInit)\n    );\n  } else {\n    removeMetaDataItemFromMainApplication(mainApplication, META_APPLICATION_ID);\n    removeMetaDataItemFromMainApplication(mainApplication, META_DELAY_APP_MEASUREMENT_INIT);\n  }\n\n  return androidManifest;\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}