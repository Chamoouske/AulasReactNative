{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createDevServerMiddleware = createDevServerMiddleware;\nObject.defineProperty(exports, \"devToolsMiddleware\", {\n  enumerable: true,\n  get: function get() {\n    return _devToolsMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"indexPageMiddleware\", {\n  enumerable: true,\n  get: function get() {\n    return _indexPageMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"openStackFrameInEditorMiddleware\", {\n  enumerable: true,\n  get: function get() {\n    return _openStackFrameInEditorMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"openURLMiddleware\", {\n  enumerable: true,\n  get: function get() {\n    return _openURLMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"rawBodyMiddleware\", {\n  enumerable: true,\n  get: function get() {\n    return _rawBodyMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"securityHeadersMiddleware\", {\n  enumerable: true,\n  get: function get() {\n    return _securityHeadersMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"statusPageMiddleware\", {\n  enumerable: true,\n  get: function get() {\n    return _statusPageMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"systraceProfileMiddleware\", {\n  enumerable: true,\n  get: function get() {\n    return _systraceProfileMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"debuggerProxyServer\", {\n  enumerable: true,\n  get: function get() {\n    return _debuggerProxyServer.default;\n  }\n});\nObject.defineProperty(exports, \"eventsSocketServer\", {\n  enumerable: true,\n  get: function get() {\n    return _eventsSocketServer.default;\n  }\n});\nObject.defineProperty(exports, \"messageSocketServer\", {\n  enumerable: true,\n  get: function get() {\n    return _messageSocketServer.default;\n  }\n});\n\nfunction _compression() {\n  var data = _interopRequireDefault(require(\"compression\"));\n\n  _compression = function _compression() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _connect() {\n  var data = _interopRequireDefault(require(\"connect\"));\n\n  _connect = function _connect() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _errorhandler() {\n  var data = _interopRequireDefault(require(\"errorhandler\"));\n\n  _errorhandler = function _errorhandler() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _nocache() {\n  var data = _interopRequireDefault(require(\"nocache\"));\n\n  _nocache = function _nocache() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _serveStatic() {\n  var data = _interopRequireDefault(require(\"serve-static\"));\n\n  _serveStatic = function _serveStatic() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _cliDebuggerUi() {\n  var data = require(\"@react-native-community/cli-debugger-ui\");\n\n  _cliDebuggerUi = function _cliDebuggerUi() {\n    return data;\n  };\n\n  return data;\n}\n\nvar _devToolsMiddleware = _interopRequireDefault(require(\"./devToolsMiddleware\"));\n\nvar _indexPageMiddleware = _interopRequireDefault(require(\"./indexPageMiddleware\"));\n\nvar _openStackFrameInEditorMiddleware = _interopRequireDefault(require(\"./openStackFrameInEditorMiddleware\"));\n\nvar _openURLMiddleware = _interopRequireDefault(require(\"./openURLMiddleware\"));\n\nvar _rawBodyMiddleware = _interopRequireDefault(require(\"./rawBodyMiddleware\"));\n\nvar _securityHeadersMiddleware = _interopRequireDefault(require(\"./securityHeadersMiddleware\"));\n\nvar _statusPageMiddleware = _interopRequireDefault(require(\"./statusPageMiddleware\"));\n\nvar _systraceProfileMiddleware = _interopRequireDefault(require(\"./systraceProfileMiddleware\"));\n\nvar _debuggerProxyServer = _interopRequireDefault(require(\"./websocket/debuggerProxyServer\"));\n\nvar _eventsSocketServer = _interopRequireDefault(require(\"./websocket/eventsSocketServer\"));\n\nvar _messageSocketServer = _interopRequireDefault(require(\"./websocket/messageSocketServer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction createDevServerMiddleware(options) {\n  var isDebuggerConnected = function isDebuggerConnected() {\n    return false;\n  };\n\n  var broadcast = function broadcast(_event) {};\n\n  var middleware = (0, _connect().default)().use(_securityHeadersMiddleware.default).use((0, _compression().default)()).use((0, _nocache().default)()).use('/debugger-ui', (0, _cliDebuggerUi().debuggerUIMiddleware)()).use('/launch-js-devtools', (0, _devToolsMiddleware.default)(options, function () {\n    return isDebuggerConnected();\n  })).use('/open-stack-frame', (0, _openStackFrameInEditorMiddleware.default)(options)).use('/open-url', _openURLMiddleware.default).use('/status', _statusPageMiddleware.default).use('/symbolicate', _rawBodyMiddleware.default).use('/systrace', _systraceProfileMiddleware.default).use('/reload', function (_req, res) {\n    broadcast('reload');\n    res.end('OK');\n  }).use((0, _errorhandler().default)());\n  options.watchFolders.forEach(function (folder) {\n    middleware.use((0, _serveStatic().default)(folder));\n  });\n  return {\n    attachToServer: function attachToServer(server) {\n      var debuggerProxy = _debuggerProxyServer.default.attachToServer(server, '/debugger-proxy');\n\n      var messageSocket = _messageSocketServer.default.attachToServer(server, '/message');\n\n      broadcast = messageSocket.broadcast;\n      isDebuggerConnected = debuggerProxy.isDebuggerConnected;\n\n      var eventsSocket = _eventsSocketServer.default.attachToServer(server, '/events', messageSocket);\n\n      return {\n        debuggerProxy: debuggerProxy,\n        eventsSocket: eventsSocket,\n        messageSocket: messageSocket\n      };\n    },\n    middleware: middleware\n  };\n}","map":{"version":3,"sources":["/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/@react-native-community/cli-server-api/build/index.js"],"names":["Object","defineProperty","exports","value","createDevServerMiddleware","enumerable","get","_devToolsMiddleware","default","_indexPageMiddleware","_openStackFrameInEditorMiddleware","_openURLMiddleware","_rawBodyMiddleware","_securityHeadersMiddleware","_statusPageMiddleware","_systraceProfileMiddleware","_debuggerProxyServer","_eventsSocketServer","_messageSocketServer","_compression","data","_interopRequireDefault","require","_connect","_errorhandler","_nocache","_serveStatic","_cliDebuggerUi","obj","__esModule","options","isDebuggerConnected","broadcast","_event","middleware","use","debuggerUIMiddleware","_req","res","end","watchFolders","forEach","folder","attachToServer","server","debuggerProxy","messageSocket","eventsSocket"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createDevServerMiddleware = createDevServerMiddleware;\nObject.defineProperty(exports, \"devToolsMiddleware\", {\n  enumerable: true,\n  get: function () {\n    return _devToolsMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"indexPageMiddleware\", {\n  enumerable: true,\n  get: function () {\n    return _indexPageMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"openStackFrameInEditorMiddleware\", {\n  enumerable: true,\n  get: function () {\n    return _openStackFrameInEditorMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"openURLMiddleware\", {\n  enumerable: true,\n  get: function () {\n    return _openURLMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"rawBodyMiddleware\", {\n  enumerable: true,\n  get: function () {\n    return _rawBodyMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"securityHeadersMiddleware\", {\n  enumerable: true,\n  get: function () {\n    return _securityHeadersMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"statusPageMiddleware\", {\n  enumerable: true,\n  get: function () {\n    return _statusPageMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"systraceProfileMiddleware\", {\n  enumerable: true,\n  get: function () {\n    return _systraceProfileMiddleware.default;\n  }\n});\nObject.defineProperty(exports, \"debuggerProxyServer\", {\n  enumerable: true,\n  get: function () {\n    return _debuggerProxyServer.default;\n  }\n});\nObject.defineProperty(exports, \"eventsSocketServer\", {\n  enumerable: true,\n  get: function () {\n    return _eventsSocketServer.default;\n  }\n});\nObject.defineProperty(exports, \"messageSocketServer\", {\n  enumerable: true,\n  get: function () {\n    return _messageSocketServer.default;\n  }\n});\n\nfunction _compression() {\n  const data = _interopRequireDefault(require(\"compression\"));\n\n  _compression = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _connect() {\n  const data = _interopRequireDefault(require(\"connect\"));\n\n  _connect = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _errorhandler() {\n  const data = _interopRequireDefault(require(\"errorhandler\"));\n\n  _errorhandler = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _nocache() {\n  const data = _interopRequireDefault(require(\"nocache\"));\n\n  _nocache = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _serveStatic() {\n  const data = _interopRequireDefault(require(\"serve-static\"));\n\n  _serveStatic = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _cliDebuggerUi() {\n  const data = require(\"@react-native-community/cli-debugger-ui\");\n\n  _cliDebuggerUi = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _devToolsMiddleware = _interopRequireDefault(require(\"./devToolsMiddleware\"));\n\nvar _indexPageMiddleware = _interopRequireDefault(require(\"./indexPageMiddleware\"));\n\nvar _openStackFrameInEditorMiddleware = _interopRequireDefault(require(\"./openStackFrameInEditorMiddleware\"));\n\nvar _openURLMiddleware = _interopRequireDefault(require(\"./openURLMiddleware\"));\n\nvar _rawBodyMiddleware = _interopRequireDefault(require(\"./rawBodyMiddleware\"));\n\nvar _securityHeadersMiddleware = _interopRequireDefault(require(\"./securityHeadersMiddleware\"));\n\nvar _statusPageMiddleware = _interopRequireDefault(require(\"./statusPageMiddleware\"));\n\nvar _systraceProfileMiddleware = _interopRequireDefault(require(\"./systraceProfileMiddleware\"));\n\nvar _debuggerProxyServer = _interopRequireDefault(require(\"./websocket/debuggerProxyServer\"));\n\nvar _eventsSocketServer = _interopRequireDefault(require(\"./websocket/eventsSocketServer\"));\n\nvar _messageSocketServer = _interopRequireDefault(require(\"./websocket/messageSocketServer\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createDevServerMiddleware(options) {\n  let isDebuggerConnected = () => false;\n\n  let broadcast = _event => {};\n\n  const middleware = (0, _connect().default)().use(_securityHeadersMiddleware.default) // @ts-ignore compression and connect types mismatch\n  .use((0, _compression().default)()).use((0, _nocache().default)()).use('/debugger-ui', (0, _cliDebuggerUi().debuggerUIMiddleware)()).use('/launch-js-devtools', (0, _devToolsMiddleware.default)(options, () => isDebuggerConnected())).use('/open-stack-frame', (0, _openStackFrameInEditorMiddleware.default)(options)).use('/open-url', _openURLMiddleware.default).use('/status', _statusPageMiddleware.default).use('/symbolicate', _rawBodyMiddleware.default).use('/systrace', _systraceProfileMiddleware.default).use('/reload', (_req, res) => {\n    broadcast('reload');\n    res.end('OK');\n  }).use((0, _errorhandler().default)());\n  options.watchFolders.forEach(folder => {\n    // @ts-ignore mismatch between express and connect middleware types\n    middleware.use((0, _serveStatic().default)(folder));\n  });\n  return {\n    attachToServer(server) {\n      const debuggerProxy = _debuggerProxyServer.default.attachToServer(server, '/debugger-proxy');\n\n      const messageSocket = _messageSocketServer.default.attachToServer(server, '/message');\n\n      broadcast = messageSocket.broadcast;\n      isDebuggerConnected = debuggerProxy.isDebuggerConnected;\n\n      const eventsSocket = _eventsSocketServer.default.attachToServer(server, '/events', messageSocket);\n\n      return {\n        debuggerProxy,\n        eventsSocket,\n        messageSocket\n      };\n    },\n\n    middleware\n  };\n}\n\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}