{"ast":null,"code":"'use strict';\n\nvar keyOf = require('fbjs/lib/keyOf');\n\nvar X_DIM = keyOf({\n  x: null\n});\nvar Y_DIM = keyOf({\n  y: null\n});\nvar Z_DIM = keyOf({\n  z: null\n});\nvar InitialOperationField = {\n  transformTranslate: [0, 0, 0],\n  transformScale: [1, 1, 1]\n};\nvar InterpolateMatrix = {\n  transformScale: function transformScale(mat, x, y, z) {\n    mat[0] = mat[0] * x;\n    mat[1] = mat[1] * x;\n    mat[2] = mat[2] * x;\n    mat[3] = mat[3] * x;\n    mat[4] = mat[4] * y;\n    mat[5] = mat[5] * y;\n    mat[6] = mat[6] * y;\n    mat[7] = mat[7] * y;\n    mat[8] = mat[8] * z;\n    mat[9] = mat[9] * z;\n    mat[10] = mat[10] * z;\n    mat[11] = mat[11] * z;\n  },\n  transformTranslate: function transformTranslate(mat, x, y, z) {\n    mat[12] = mat[0] * x + mat[4] * y + mat[8] * z + mat[12];\n    mat[13] = mat[1] * x + mat[5] * y + mat[9] * z + mat[13];\n    mat[14] = mat[2] * x + mat[6] * y + mat[10] * z + mat[14];\n    mat[15] = mat[3] * x + mat[7] * y + mat[11] * z + mat[15];\n  }\n};\n\nvar computeNextValLinear = function computeNextValLinear(anim, from, to, value) {\n  var hasRoundRatio = ('round' in anim);\n  var roundRatio = anim.round;\n  var ratio = (value - anim.min) / (anim.max - anim.min);\n\n  if (!anim.extrapolate) {\n    ratio = ratio > 1 ? 1 : ratio < 0 ? 0 : ratio;\n  }\n\n  var nextVal = from * (1 - ratio) + to * ratio;\n\n  if (hasRoundRatio) {\n    nextVal = Math.round(roundRatio * nextVal) / roundRatio;\n  }\n\n  if (!isFinite(nextVal)) {\n    nextVal = null;\n  }\n\n  return nextVal;\n};\n\nvar computeNextValLinearScalar = function computeNextValLinearScalar(anim, value) {\n  return computeNextValLinear(anim, anim.from, anim.to, value);\n};\n\nvar setNextValAndDetectChange = function setNextValAndDetectChange(result, name, nextVal, didChange) {\n  if (!didChange) {\n    var prevVal = result[name];\n    result[name] = nextVal;\n    didChange = didChange || nextVal !== prevVal;\n  } else {\n    result[name] = nextVal;\n  }\n\n  return didChange;\n};\n\nvar initIdentity = function initIdentity(mat) {\n  mat[0] = 1;\n  mat[1] = 0;\n  mat[2] = 0;\n  mat[3] = 0;\n  mat[4] = 0;\n  mat[5] = 1;\n  mat[6] = 0;\n  mat[7] = 0;\n  mat[8] = 0;\n  mat[9] = 0;\n  mat[10] = 1;\n  mat[11] = 0;\n  mat[12] = 0;\n  mat[13] = 0;\n  mat[14] = 0;\n  mat[15] = 1;\n};\n\nvar computeNextMatrixOperationField = function computeNextMatrixOperationField(anim, name, dim, index, value) {\n  if (anim.from[dim] !== undefined && anim.to[dim] !== undefined) {\n    return computeNextValLinear(anim, anim.from[dim], anim.to[dim], value);\n  } else {\n    return InitialOperationField[name][index];\n  }\n};\n\nvar computeTransform = function computeTransform(anim, name, value, result, didChange, didMatrix) {\n  var transform = result.transform !== undefined ? result.transform : result.transform = [{\n    matrix: []\n  }];\n  var mat = transform[0].matrix;\n  var m0 = mat[0];\n  var m1 = mat[1];\n  var m2 = mat[2];\n  var m3 = mat[3];\n  var m4 = mat[4];\n  var m5 = mat[5];\n  var m6 = mat[6];\n  var m7 = mat[7];\n  var m8 = mat[8];\n  var m9 = mat[9];\n  var m10 = mat[10];\n  var m11 = mat[11];\n  var m12 = mat[12];\n  var m13 = mat[13];\n  var m14 = mat[14];\n  var m15 = mat[15];\n\n  if (!didMatrix) {\n    initIdentity(mat);\n  }\n\n  var x = computeNextMatrixOperationField(anim, name, X_DIM, 0, value);\n  var y = computeNextMatrixOperationField(anim, name, Y_DIM, 1, value);\n  var z = computeNextMatrixOperationField(anim, name, Z_DIM, 2, value);\n  InterpolateMatrix[name](mat, x, y, z);\n\n  if (!didChange) {\n    didChange = m0 !== mat[0] || m1 !== mat[1] || m2 !== mat[2] || m3 !== mat[3] || m4 !== mat[4] || m5 !== mat[5] || m6 !== mat[6] || m7 !== mat[7] || m8 !== mat[8] || m9 !== mat[9] || m10 !== mat[10] || m11 !== mat[11] || m12 !== mat[12] || m13 !== mat[13] || m14 !== mat[14] || m15 !== mat[15];\n  }\n\n  return didChange;\n};\n\nvar buildStyleInterpolator = function buildStyleInterpolator(anims) {\n  function styleInterpolator(result, value) {\n    var didChange = false;\n    var didMatrix = false;\n\n    for (var name in anims) {\n      var anim = anims[name];\n\n      if (anim.type === 'linear') {\n        if (name in InterpolateMatrix) {\n          didChange = computeTransform(anim, name, value, result, didChange, didMatrix);\n          didMatrix = true;\n        } else {\n          var next = computeNextValLinearScalar(anim, value);\n          didChange = setNextValAndDetectChange(result, name, next, didChange);\n        }\n      } else if (anim.type === 'constant') {\n        var _next = anim.value;\n        didChange = setNextValAndDetectChange(result, name, _next, didChange);\n      } else if (anim.type === 'step') {\n        var _next2 = value >= anim.threshold ? anim.to : anim.from;\n\n        didChange = setNextValAndDetectChange(result, name, _next2, didChange);\n      } else if (anim.type === 'identity') {\n        var _next3 = value;\n        didChange = setNextValAndDetectChange(result, name, _next3, didChange);\n      }\n    }\n\n    return didChange;\n  }\n\n  return styleInterpolator;\n};\n\nmodule.exports = buildStyleInterpolator;","map":{"version":3,"sources":["/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/react-native/Libraries/Utilities/buildStyleInterpolator.js"],"names":["keyOf","require","X_DIM","x","Y_DIM","y","Z_DIM","z","InitialOperationField","transformTranslate","transformScale","InterpolateMatrix","mat","computeNextValLinear","anim","from","to","value","hasRoundRatio","roundRatio","round","ratio","min","max","extrapolate","nextVal","Math","isFinite","computeNextValLinearScalar","setNextValAndDetectChange","result","name","didChange","prevVal","initIdentity","computeNextMatrixOperationField","dim","index","undefined","computeTransform","didMatrix","transform","matrix","m0","m1","m2","m3","m4","m5","m6","m7","m8","m9","m10","m11","m12","m13","m14","m15","buildStyleInterpolator","anims","styleInterpolator","type","next","threshold","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n */\n\n'use strict';\n\nconst keyOf = require('fbjs/lib/keyOf');\n\nconst X_DIM = keyOf({x: null});\nconst Y_DIM = keyOf({y: null});\nconst Z_DIM = keyOf({z: null});\n\nconst InitialOperationField = {\n  transformTranslate: [0, 0, 0],\n  transformScale: [1, 1, 1],\n};\n\nconst InterpolateMatrix = {\n  transformScale: function(mat, x, y, z) {\n    mat[0] = mat[0] * x;\n    mat[1] = mat[1] * x;\n    mat[2] = mat[2] * x;\n    mat[3] = mat[3] * x;\n    mat[4] = mat[4] * y;\n    mat[5] = mat[5] * y;\n    mat[6] = mat[6] * y;\n    mat[7] = mat[7] * y;\n    mat[8] = mat[8] * z;\n    mat[9] = mat[9] * z;\n    mat[10] = mat[10] * z;\n    mat[11] = mat[11] * z;\n  },\n  transformTranslate: function(mat, x, y, z) {\n    mat[12] = mat[0] * x + mat[4] * y + mat[8] * z + mat[12];\n    mat[13] = mat[1] * x + mat[5] * y + mat[9] * z + mat[13];\n    mat[14] = mat[2] * x + mat[6] * y + mat[10] * z + mat[14];\n    mat[15] = mat[3] * x + mat[7] * y + mat[11] * z + mat[15];\n  },\n};\n\nconst computeNextValLinear = function(anim, from, to, value) {\n  const hasRoundRatio = 'round' in anim;\n  const roundRatio = anim.round;\n  let ratio = (value - anim.min) / (anim.max - anim.min);\n  if (!anim.extrapolate) {\n    ratio = ratio > 1 ? 1 : ratio < 0 ? 0 : ratio;\n  }\n  let nextVal = from * (1 - ratio) + to * ratio;\n  if (hasRoundRatio) {\n    nextVal = Math.round(roundRatio * nextVal) / roundRatio;\n  }\n  if (!isFinite(nextVal)) {\n    nextVal = null;\n  }\n  return nextVal;\n};\n\nconst computeNextValLinearScalar = function(anim, value) {\n  return computeNextValLinear(anim, anim.from, anim.to, value);\n};\n\nconst setNextValAndDetectChange = function(result, name, nextVal, didChange) {\n  if (!didChange) {\n    const prevVal = result[name];\n    result[name] = nextVal;\n    didChange = didChange || nextVal !== prevVal;\n  } else {\n    result[name] = nextVal;\n  }\n  return didChange;\n};\n\nconst initIdentity = function(mat) {\n  mat[0] = 1;\n  mat[1] = 0;\n  mat[2] = 0;\n  mat[3] = 0;\n  mat[4] = 0;\n  mat[5] = 1;\n  mat[6] = 0;\n  mat[7] = 0;\n  mat[8] = 0;\n  mat[9] = 0;\n  mat[10] = 1;\n  mat[11] = 0;\n  mat[12] = 0;\n  mat[13] = 0;\n  mat[14] = 0;\n  mat[15] = 1;\n};\n\nconst computeNextMatrixOperationField = function(\n  anim,\n  name,\n  dim,\n  index,\n  value,\n) {\n  if (anim.from[dim] !== undefined && anim.to[dim] !== undefined) {\n    return computeNextValLinear(anim, anim.from[dim], anim.to[dim], value);\n  } else {\n    return InitialOperationField[name][index];\n  }\n};\n\nconst computeTransform = function(\n  anim,\n  name,\n  value,\n  result,\n  didChange,\n  didMatrix,\n) {\n  const transform =\n    result.transform !== undefined\n      ? result.transform\n      : (result.transform = [{matrix: []}]);\n  const mat = transform[0].matrix;\n  const m0 = mat[0];\n  const m1 = mat[1];\n  const m2 = mat[2];\n  const m3 = mat[3];\n  const m4 = mat[4];\n  const m5 = mat[5];\n  const m6 = mat[6];\n  const m7 = mat[7];\n  const m8 = mat[8];\n  const m9 = mat[9];\n  const m10 = mat[10];\n  const m11 = mat[11];\n  const m12 = mat[12];\n  const m13 = mat[13];\n  const m14 = mat[14];\n  const m15 = mat[15];\n  if (!didMatrix) {\n    initIdentity(mat); // This will be the first transform.\n  }\n  const x = computeNextMatrixOperationField(anim, name, X_DIM, 0, value);\n  const y = computeNextMatrixOperationField(anim, name, Y_DIM, 1, value);\n  const z = computeNextMatrixOperationField(anim, name, Z_DIM, 2, value);\n  InterpolateMatrix[name](mat, x, y, z);\n  if (!didChange) {\n    didChange =\n      m0 !== mat[0] ||\n      m1 !== mat[1] ||\n      m2 !== mat[2] ||\n      m3 !== mat[3] ||\n      m4 !== mat[4] ||\n      m5 !== mat[5] ||\n      m6 !== mat[6] ||\n      m7 !== mat[7] ||\n      m8 !== mat[8] ||\n      m9 !== mat[9] ||\n      m10 !== mat[10] ||\n      m11 !== mat[11] ||\n      m12 !== mat[12] ||\n      m13 !== mat[13] ||\n      m14 !== mat[14] ||\n      m15 !== mat[15];\n  }\n  return didChange;\n};\n\n/**\n * @param {object} anims Animation configuration by style property name.\n * @return {function} Function accepting style object, that mutates that style\n * object and returns a boolean describing if any update was actually applied.\n */\nconst buildStyleInterpolator = function(anims) {\n  function styleInterpolator(result, value) {\n    let didChange = false;\n    let didMatrix = false;\n    for (const name in anims) {\n      const anim = anims[name];\n      if (anim.type === 'linear') {\n        if (name in InterpolateMatrix) {\n          didChange = computeTransform(\n            anim,\n            name,\n            value,\n            result,\n            didChange,\n            didMatrix,\n          );\n          didMatrix = true;\n        } else {\n          const next = computeNextValLinearScalar(anim, value);\n          didChange = setNextValAndDetectChange(result, name, next, didChange);\n        }\n      } else if (anim.type === 'constant') {\n        const next = anim.value;\n        didChange = setNextValAndDetectChange(result, name, next, didChange);\n      } else if (anim.type === 'step') {\n        const next = value >= anim.threshold ? anim.to : anim.from;\n        didChange = setNextValAndDetectChange(result, name, next, didChange);\n      } else if (anim.type === 'identity') {\n        const next = value;\n        didChange = setNextValAndDetectChange(result, name, next, didChange);\n      }\n    }\n    return didChange;\n  }\n  return styleInterpolator;\n};\n\nmodule.exports = buildStyleInterpolator;\n"]},"metadata":{},"sourceType":"script"}