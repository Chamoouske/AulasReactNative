{"ast":null,"code":"'use strict';\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar _this = this,\n    _jsxFileName = \"/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/react-native/Libraries/Lists/__tests__/VirtualizedSectionList-test.js\";\n\nvar React = require('react');\n\nvar ReactTestRenderer = require('react-test-renderer');\n\nvar VirtualizedSectionList = require(\"../VirtualizedSectionList\");\n\ndescribe('VirtualizedSectionList', function () {\n  it('renders simple list', function () {\n    var component = ReactTestRenderer.create(React.createElement(VirtualizedSectionList, {\n      sections: [{\n        title: 's1',\n        data: [{\n          key: 'i1'\n        }, {\n          key: 'i2'\n        }, {\n          key: 'i3'\n        }]\n      }],\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return React.createElement(\"item\", {\n          value: item.key,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 33\n          }\n        });\n      },\n      getItem: function getItem(data, key) {\n        return data[key];\n      },\n      getItemCount: function getItemCount(data) {\n        return data.length;\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 7\n      }\n    }));\n    expect(component).toMatchSnapshot();\n  });\n  it('renders empty list', function () {\n    var component = ReactTestRenderer.create(React.createElement(VirtualizedSectionList, {\n      sections: [],\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return React.createElement(\"item\", {\n          value: item.key,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 33\n          }\n        });\n      },\n      getItem: function getItem(data, key) {\n        return data[key];\n      },\n      getItemCount: function getItemCount(data) {\n        return data.length;\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 7\n      }\n    }));\n    expect(component).toMatchSnapshot();\n  });\n  it('renders null list', function () {\n    var component = ReactTestRenderer.create(React.createElement(VirtualizedSectionList, {\n      sections: undefined,\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return React.createElement(\"item\", {\n          value: item.key,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 33\n          }\n        });\n      },\n      getItem: function getItem(data, key) {\n        return data[key];\n      },\n      getItemCount: function getItemCount(data) {\n        return 0;\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }\n    }));\n    expect(component).toMatchSnapshot();\n  });\n  it('renders empty list with empty component', function () {\n    var component = ReactTestRenderer.create(React.createElement(VirtualizedSectionList, {\n      sections: [],\n      ListEmptyComponent: function ListEmptyComponent() {\n        return React.createElement(\"empty\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 35\n          }\n        });\n      },\n      ListFooterComponent: function ListFooterComponent() {\n        return React.createElement(\"footer\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 36\n          }\n        });\n      },\n      ListHeaderComponent: function ListHeaderComponent() {\n        return React.createElement(\"header\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 36\n          }\n        });\n      },\n      getItem: function getItem(data, key) {\n        return data[key];\n      },\n      getItemCount: function getItemCount(data) {\n        return data.length;\n      },\n      renderItem: function renderItem(_ref4) {\n        var item = _ref4.item;\n        return React.createElement(\"item\", {\n          value: item.key,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 33\n          }\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }\n    }));\n    expect(component).toMatchSnapshot();\n  });\n  it('renders list with empty component', function () {\n    var component = ReactTestRenderer.create(React.createElement(VirtualizedSectionList, {\n      sections: [{\n        title: 's1',\n        data: [{\n          key: 'hello'\n        }]\n      }],\n      ListEmptyComponent: function ListEmptyComponent() {\n        return React.createElement(\"empty\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 35\n          }\n        });\n      },\n      getItem: function getItem(data, key) {\n        return data[key];\n      },\n      getItemCount: function getItemCount(data) {\n        return data.length;\n      },\n      renderItem: function renderItem(_ref5) {\n        var item = _ref5.item;\n        return React.createElement(\"item\", {\n          value: item.key,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 33\n          }\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    }));\n    expect(component).toMatchSnapshot();\n  });\n  it('renders all the bells and whistles', function () {\n    var component = ReactTestRenderer.create(React.createElement(VirtualizedSectionList, {\n      ItemSeparatorComponent: function ItemSeparatorComponent() {\n        return React.createElement(\"separator\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 39\n          }\n        });\n      },\n      ListEmptyComponent: function ListEmptyComponent() {\n        return React.createElement(\"empty\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 35\n          }\n        });\n      },\n      ListFooterComponent: function ListFooterComponent() {\n        return React.createElement(\"footer\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 36\n          }\n        });\n      },\n      ListHeaderComponent: function ListHeaderComponent() {\n        return React.createElement(\"header\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 36\n          }\n        });\n      },\n      sections: [{\n        title: 's1',\n        data: new Array(5).fill().map(function (_, ii) {\n          return {\n            id: String(ii)\n          };\n        })\n      }],\n      getItem: function getItem(data, key) {\n        return data[key];\n      },\n      getItemCount: function getItemCount(data) {\n        return data.length;\n      },\n      getItemLayout: function getItemLayout(_ref6) {\n        var index = _ref6.index;\n        return {\n          length: 50,\n          offset: index * 50\n        };\n      },\n      inverted: true,\n      keyExtractor: function keyExtractor(item, index) {\n        return item.id;\n      },\n      onRefresh: jest.fn(),\n      refreshing: false,\n      renderItem: function renderItem(_ref7) {\n        var item = _ref7.item;\n        return React.createElement(\"item\", {\n          value: item.id,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 33\n          }\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }));\n    expect(component).toMatchSnapshot();\n  });\n  it('handles separators correctly', function () {\n    var infos = [];\n    var component = ReactTestRenderer.create(React.createElement(VirtualizedSectionList, {\n      ItemSeparatorComponent: function ItemSeparatorComponent(props) {\n        return React.createElement(\"separator\", _extends({}, props, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 42\n          }\n        }));\n      },\n      sections: [{\n        title: 's0',\n        data: [{\n          key: 'i0'\n        }, {\n          key: 'i1'\n        }, {\n          key: 'i2'\n        }]\n      }],\n      renderItem: function renderItem(info) {\n        infos.push(info);\n        return React.createElement(\"item\", {\n          title: info.item.key,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 18\n          }\n        });\n      },\n      getItem: function getItem(data, key) {\n        return data[key];\n      },\n      getItemCount: function getItemCount(data) {\n        return data.length;\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }\n    }));\n    expect(component).toMatchSnapshot();\n    infos[1].separators.highlight();\n    expect(component).toMatchSnapshot();\n    infos[2].separators.updateProps('leading', {\n      press: true\n    });\n    expect(component).toMatchSnapshot();\n    infos[1].separators.unhighlight();\n  });\n  it('handles nested lists', function () {\n    var component = ReactTestRenderer.create(React.createElement(VirtualizedSectionList, {\n      sections: [{\n        title: 'outer',\n        data: [{\n          key: 'outer0'\n        }, {\n          key: 'outer1'\n        }]\n      }],\n      renderItem: function renderItem(outerInfo) {\n        return React.createElement(VirtualizedSectionList, {\n          sections: [{\n            title: 'inner',\n            data: [{\n              key: outerInfo.item.key + ':inner0'\n            }, {\n              key: outerInfo.item.key + ':inner1'\n            }]\n          }],\n          horizontal: outerInfo.item.key === 'outer1',\n          renderItem: function renderItem(innerInfo) {\n            return React.createElement(\"item\", {\n              title: innerInfo.item.key,\n              __self: _this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 22\n              }\n            });\n          },\n          getItem: function getItem(data, key) {\n            return data[key];\n          },\n          getItemCount: function getItemCount(data) {\n            return data.length;\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 11\n          }\n        });\n      },\n      getItem: function getItem(data, key) {\n        return data[key];\n      },\n      getItemCount: function getItemCount(data) {\n        return data.length;\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 7\n      }\n    }));\n    expect(component).toMatchSnapshot();\n  });\n  describe('scrollToLocation', function () {\n    var ITEM_HEIGHT = 100;\n\n    var createVirtualizedSectionList = function createVirtualizedSectionList(props) {\n      var component = ReactTestRenderer.create(React.createElement(VirtualizedSectionList, _extends({\n        sections: [{\n          title: 's1',\n          data: [{\n            key: 'i1.1'\n          }, {\n            key: 'i1.2'\n          }, {\n            key: 'i1.3'\n          }]\n        }, {\n          title: 's2',\n          data: [{\n            key: 'i2.1'\n          }, {\n            key: 'i2.2'\n          }, {\n            key: 'i2.3'\n          }]\n        }],\n        renderItem: function renderItem(_ref8) {\n          var item = _ref8.item;\n          return React.createElement(\"item\", {\n            value: item.key,\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 35\n            }\n          });\n        },\n        getItem: function getItem(data, key) {\n          return data[key];\n        },\n        getItemCount: function getItemCount(data) {\n          return data.length;\n        },\n        getItemLayout: function getItemLayout(data, index) {\n          return {\n            length: ITEM_HEIGHT,\n            offset: ITEM_HEIGHT * index,\n            index: index\n          };\n        }\n      }, props, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 9\n        }\n      })));\n      var instance = component.getInstance();\n      var spy = jest.fn();\n      instance._listRef.scrollToIndex = spy;\n      return {\n        instance: instance,\n        spy: spy\n      };\n    };\n\n    it('when sticky stickySectionHeadersEnabled={true}, header height is added to the developer-provided viewOffset', function () {\n      var _createVirtualizedSec = createVirtualizedSectionList({\n        stickySectionHeadersEnabled: true\n      }),\n          instance = _createVirtualizedSec.instance,\n          spy = _createVirtualizedSec.spy;\n\n      var viewOffset = 25;\n      instance.scrollToLocation({\n        sectionIndex: 0,\n        itemIndex: 1,\n        viewOffset: viewOffset\n      });\n      expect(spy).toHaveBeenCalledWith({\n        index: 1,\n        itemIndex: 1,\n        sectionIndex: 0,\n        viewOffset: viewOffset + ITEM_HEIGHT\n      });\n    });\n    it.each([[{\n      sectionIndex: 0,\n      itemIndex: 0\n    }, {\n      index: 0,\n      itemIndex: 0,\n      sectionIndex: 0,\n      viewOffset: 0\n    }], [{\n      sectionIndex: 2,\n      itemIndex: 1\n    }, {\n      index: 11,\n      itemIndex: 1,\n      sectionIndex: 2,\n      viewOffset: 0\n    }], [{\n      sectionIndex: 0,\n      itemIndex: 1,\n      viewOffset: 25\n    }, {\n      index: 1,\n      itemIndex: 1,\n      sectionIndex: 0,\n      viewOffset: 25\n    }]])('given sectionIndex, itemIndex and viewOffset, scrollToIndex is called with correct params', function (scrollToLocationParams, expected) {\n      var _createVirtualizedSec2 = createVirtualizedSectionList(),\n          instance = _createVirtualizedSec2.instance,\n          spy = _createVirtualizedSec2.spy;\n\n      instance.scrollToLocation(scrollToLocationParams);\n      expect(spy).toHaveBeenCalledWith(expected);\n    });\n  });\n});","map":{"version":3,"sources":["/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/react-native/Libraries/Lists/__tests__/VirtualizedSectionList-test.js"],"names":["React","require","ReactTestRenderer","VirtualizedSectionList","describe","it","component","create","title","data","key","item","length","expect","toMatchSnapshot","undefined","Array","fill","map","_","ii","id","String","index","offset","jest","fn","infos","props","info","push","separators","highlight","updateProps","press","unhighlight","outerInfo","innerInfo","ITEM_HEIGHT","createVirtualizedSectionList","instance","getInstance","spy","_listRef","scrollToIndex","stickySectionHeadersEnabled","viewOffset","scrollToLocation","sectionIndex","itemIndex","toHaveBeenCalledWith","each","scrollToLocationParams","expected"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @emails oncall+react_native\n */\n\n'use strict';\n\nconst React = require('react');\nconst ReactTestRenderer = require('react-test-renderer');\n\nconst VirtualizedSectionList = require('../VirtualizedSectionList');\n\ndescribe('VirtualizedSectionList', () => {\n  it('renders simple list', () => {\n    const component = ReactTestRenderer.create(\n      <VirtualizedSectionList\n        sections={[\n          {title: 's1', data: [{key: 'i1'}, {key: 'i2'}, {key: 'i3'}]},\n        ]}\n        renderItem={({item}) => <item value={item.key} />}\n        getItem={(data, key) => data[key]}\n        getItemCount={data => data.length}\n      />,\n    );\n    expect(component).toMatchSnapshot();\n  });\n\n  it('renders empty list', () => {\n    const component = ReactTestRenderer.create(\n      <VirtualizedSectionList\n        sections={[]}\n        renderItem={({item}) => <item value={item.key} />}\n        getItem={(data, key) => data[key]}\n        getItemCount={data => data.length}\n      />,\n    );\n    expect(component).toMatchSnapshot();\n  });\n\n  it('renders null list', () => {\n    const component = ReactTestRenderer.create(\n      <VirtualizedSectionList\n        sections={undefined}\n        renderItem={({item}) => <item value={item.key} />}\n        getItem={(data, key) => data[key]}\n        getItemCount={data => 0}\n      />,\n    );\n    expect(component).toMatchSnapshot();\n  });\n\n  it('renders empty list with empty component', () => {\n    const component = ReactTestRenderer.create(\n      <VirtualizedSectionList\n        sections={[]}\n        ListEmptyComponent={() => <empty />}\n        ListFooterComponent={() => <footer />}\n        ListHeaderComponent={() => <header />}\n        getItem={(data, key) => data[key]}\n        getItemCount={data => data.length}\n        renderItem={({item}) => <item value={item.key} />}\n      />,\n    );\n    expect(component).toMatchSnapshot();\n  });\n\n  it('renders list with empty component', () => {\n    const component = ReactTestRenderer.create(\n      <VirtualizedSectionList\n        sections={[{title: 's1', data: [{key: 'hello'}]}]}\n        ListEmptyComponent={() => <empty />}\n        getItem={(data, key) => data[key]}\n        getItemCount={data => data.length}\n        renderItem={({item}) => <item value={item.key} />}\n      />,\n    );\n    expect(component).toMatchSnapshot();\n  });\n\n  it('renders all the bells and whistles', () => {\n    const component = ReactTestRenderer.create(\n      <VirtualizedSectionList\n        ItemSeparatorComponent={() => <separator />}\n        ListEmptyComponent={() => <empty />}\n        ListFooterComponent={() => <footer />}\n        ListHeaderComponent={() => <header />}\n        sections={[\n          {\n            title: 's1',\n            data: new Array(5).fill().map((_, ii) => ({id: String(ii)})),\n          },\n        ]}\n        getItem={(data, key) => data[key]}\n        getItemCount={data => data.length}\n        getItemLayout={({index}) => ({length: 50, offset: index * 50})}\n        inverted={true}\n        keyExtractor={(item, index) => item.id}\n        onRefresh={jest.fn()}\n        refreshing={false}\n        renderItem={({item}) => <item value={item.id} />}\n      />,\n    );\n    expect(component).toMatchSnapshot();\n  });\n\n  it('handles separators correctly', () => {\n    const infos = [];\n    const component = ReactTestRenderer.create(\n      <VirtualizedSectionList\n        ItemSeparatorComponent={props => <separator {...props} />}\n        sections={[\n          {title: 's0', data: [{key: 'i0'}, {key: 'i1'}, {key: 'i2'}]},\n        ]}\n        renderItem={info => {\n          infos.push(info);\n          return <item title={info.item.key} />;\n        }}\n        getItem={(data, key) => data[key]}\n        getItemCount={data => data.length}\n      />,\n    );\n    expect(component).toMatchSnapshot();\n    infos[1].separators.highlight();\n    expect(component).toMatchSnapshot();\n    infos[2].separators.updateProps('leading', {press: true});\n    expect(component).toMatchSnapshot();\n    infos[1].separators.unhighlight();\n  });\n\n  it('handles nested lists', () => {\n    const component = ReactTestRenderer.create(\n      <VirtualizedSectionList\n        sections={[{title: 'outer', data: [{key: 'outer0'}, {key: 'outer1'}]}]}\n        renderItem={outerInfo => (\n          <VirtualizedSectionList\n            sections={[\n              {\n                title: 'inner',\n                data: [\n                  {key: outerInfo.item.key + ':inner0'},\n                  {key: outerInfo.item.key + ':inner1'},\n                ],\n              },\n            ]}\n            horizontal={outerInfo.item.key === 'outer1'}\n            renderItem={innerInfo => {\n              return <item title={innerInfo.item.key} />;\n            }}\n            getItem={(data, key) => data[key]}\n            getItemCount={data => data.length}\n          />\n        )}\n        getItem={(data, key) => data[key]}\n        getItemCount={data => data.length}\n      />,\n    );\n    expect(component).toMatchSnapshot();\n  });\n\n  describe('scrollToLocation', () => {\n    const ITEM_HEIGHT = 100;\n\n    const createVirtualizedSectionList = props => {\n      const component = ReactTestRenderer.create(\n        <VirtualizedSectionList\n          sections={[\n            {title: 's1', data: [{key: 'i1.1'}, {key: 'i1.2'}, {key: 'i1.3'}]},\n            {title: 's2', data: [{key: 'i2.1'}, {key: 'i2.2'}, {key: 'i2.3'}]},\n          ]}\n          renderItem={({item}) => <item value={item.key} />}\n          getItem={(data, key) => data[key]}\n          getItemCount={data => data.length}\n          getItemLayout={(data, index) => ({\n            length: ITEM_HEIGHT,\n            offset: ITEM_HEIGHT * index,\n            index,\n          })}\n          {...props}\n        />,\n      );\n      const instance = component.getInstance();\n      const spy = jest.fn();\n      instance._listRef.scrollToIndex = spy;\n      return {\n        instance,\n        spy,\n      };\n    };\n\n    it('when sticky stickySectionHeadersEnabled={true}, header height is added to the developer-provided viewOffset', () => {\n      const {instance, spy} = createVirtualizedSectionList({\n        stickySectionHeadersEnabled: true,\n      });\n\n      const viewOffset = 25;\n\n      instance.scrollToLocation({\n        sectionIndex: 0,\n        itemIndex: 1,\n        viewOffset,\n      });\n      expect(spy).toHaveBeenCalledWith({\n        index: 1,\n        itemIndex: 1,\n        sectionIndex: 0,\n        viewOffset: viewOffset + ITEM_HEIGHT,\n      });\n    });\n\n    it.each([\n      [\n        // prevents #18098\n        {sectionIndex: 0, itemIndex: 0},\n        {\n          index: 0,\n          itemIndex: 0,\n          sectionIndex: 0,\n          viewOffset: 0,\n        },\n      ],\n      [\n        {sectionIndex: 2, itemIndex: 1},\n        {\n          index: 11,\n          itemIndex: 1,\n          sectionIndex: 2,\n          viewOffset: 0,\n        },\n      ],\n      [\n        {\n          sectionIndex: 0,\n          itemIndex: 1,\n          viewOffset: 25,\n        },\n        {\n          index: 1,\n          itemIndex: 1,\n          sectionIndex: 0,\n          viewOffset: 25,\n        },\n      ],\n    ])(\n      'given sectionIndex, itemIndex and viewOffset, scrollToIndex is called with correct params',\n      (scrollToLocationParams, expected) => {\n        const {instance, spy} = createVirtualizedSectionList();\n\n        instance.scrollToLocation(scrollToLocationParams);\n        expect(spy).toHaveBeenCalledWith(expected);\n      },\n    );\n  });\n});\n"]},"metadata":{},"sourceType":"script"}