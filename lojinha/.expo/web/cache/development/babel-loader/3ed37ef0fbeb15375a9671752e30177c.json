{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"@babel/runtime/regenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createProjectFromTemplate = createProjectFromTemplate;\n\nfunction _child_process() {\n  var data = require(\"child_process\");\n\n  _child_process = function _child_process() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _fs() {\n  var data = _interopRequireDefault(require(\"fs\"));\n\n  _fs = function _fs() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _path() {\n  var data = _interopRequireDefault(require(\"path\"));\n\n  _path = function _path() {\n    return data;\n  };\n\n  return data;\n}\n\nvar _copyProjectTemplateAndReplace = _interopRequireDefault(require(\"./copyProjectTemplateAndReplace\"));\n\nfunction _cliTools() {\n  var data = require(\"@react-native-community/cli-tools\");\n\n  _cliTools = function _cliTools() {\n    return data;\n  };\n\n  return data;\n}\n\nvar PackageManager = _interopRequireWildcard(require(\"../packageManager\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction createProjectFromTemplate(destPath, newProjectName, template) {\n  var templatePath;\n  return _regeneratorRuntime.async(function createProjectFromTemplate$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          templatePath = _path().default.dirname(require.resolve('react-native/template'));\n          (0, _copyProjectTemplateAndReplace.default)(templatePath, destPath, newProjectName);\n\n          if (!(template === undefined)) {\n            _context.next = 4;\n            break;\n          }\n\n          return _context.abrupt(\"return\");\n\n        case 4:\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(createFromRemoteTemplate(template, destPath, newProjectName));\n\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nfunction createFromRemoteTemplate(template, destPath, newProjectName) {\n  var installPackage, templateName, templatePath;\n  return _regeneratorRuntime.async(function createFromRemoteTemplate$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          if (template.includes(':/')) {\n            installPackage = template;\n            templateName = template.substr(template.lastIndexOf('/') + 1);\n          } else {\n            installPackage = \"react-native-template-\" + template;\n            templateName = installPackage;\n          }\n\n          _cliTools().logger.info(\"Fetching template \" + installPackage + \"...\");\n\n          _context2.prev = 2;\n          _context2.next = 5;\n          return _regeneratorRuntime.awrap(PackageManager.install([installPackage], {\n            root: destPath\n          }));\n\n        case 5:\n          templatePath = _path().default.resolve('node_modules', templateName);\n          (0, _copyProjectTemplateAndReplace.default)(templatePath, destPath, newProjectName, {\n            ignorePaths: ['package.json', 'dependencies.json', 'devDependencies.json']\n          });\n          _context2.next = 9;\n          return _regeneratorRuntime.awrap(installTemplateDependencies(templatePath, destPath));\n\n        case 9:\n          _context2.next = 11;\n          return _regeneratorRuntime.awrap(installTemplateDevDependencies(templatePath, destPath));\n\n        case 11:\n          _context2.prev = 11;\n          _context2.prev = 12;\n          _context2.next = 15;\n          return _regeneratorRuntime.awrap(PackageManager.uninstall([templateName], {\n            root: destPath\n          }));\n\n        case 15:\n          _context2.next = 20;\n          break;\n\n        case 17:\n          _context2.prev = 17;\n          _context2.t0 = _context2[\"catch\"](12);\n\n          _cliTools().logger.warn(\"Failed to clean up template temp files in node_modules/\" + templateName + \". \" + 'This is not a critical error, you can work on your app.');\n\n        case 20:\n          return _context2.finish(11);\n\n        case 21:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, [[2,, 11, 21], [12, 17]], Promise);\n}\n\nfunction installTemplateDependencies(templatePath, root) {\n  var dependenciesJsonPath, dependencies, dependenciesToInstall;\n  return _regeneratorRuntime.async(function installTemplateDependencies$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          dependenciesJsonPath = _path().default.resolve(templatePath, 'dependencies.json');\n\n          _cliTools().logger.info('Adding dependencies for the project...');\n\n          if (_fs().default.existsSync(dependenciesJsonPath)) {\n            _context3.next = 5;\n            break;\n          }\n\n          _cliTools().logger.info('No additional dependencies.');\n\n          return _context3.abrupt(\"return\");\n\n        case 5:\n          _context3.prev = 5;\n          dependencies = require(dependenciesJsonPath);\n          _context3.next = 12;\n          break;\n\n        case 9:\n          _context3.prev = 9;\n          _context3.t0 = _context3[\"catch\"](5);\n          throw new Error(\"Could not parse the template's dependencies.json: \" + _context3.t0.message);\n\n        case 12:\n          dependenciesToInstall = Object.keys(dependencies).map(function (depName) {\n            return depName + \"@\" + dependencies[depName];\n          });\n          _context3.next = 15;\n          return _regeneratorRuntime.awrap(PackageManager.install(dependenciesToInstall, {\n            root: root\n          }));\n\n        case 15:\n          _cliTools().logger.info(\"Linking native dependencies into the project's build files...\");\n\n          (0, _child_process().execSync)('react-native link', {\n            cwd: root,\n            stdio: 'inherit'\n          });\n\n        case 17:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, [[5, 9]], Promise);\n}\n\nfunction installTemplateDevDependencies(templatePath, root) {\n  var devDependenciesJsonPath, dependencies, dependenciesToInstall;\n  return _regeneratorRuntime.async(function installTemplateDevDependencies$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          devDependenciesJsonPath = _path().default.resolve(templatePath, 'devDependencies.json');\n\n          _cliTools().logger.info('Adding develop dependencies for the project...');\n\n          if (_fs().default.existsSync(devDependenciesJsonPath)) {\n            _context4.next = 5;\n            break;\n          }\n\n          _cliTools().logger.info('No additional develop dependencies.');\n\n          return _context4.abrupt(\"return\");\n\n        case 5:\n          _context4.prev = 5;\n          dependencies = require(devDependenciesJsonPath);\n          _context4.next = 12;\n          break;\n\n        case 9:\n          _context4.prev = 9;\n          _context4.t0 = _context4[\"catch\"](5);\n          throw new Error(\"Could not parse the template's devDependencies.json: \" + _context4.t0.message);\n\n        case 12:\n          dependenciesToInstall = Object.keys(dependencies).map(function (depName) {\n            return depName + \"@\" + dependencies[depName];\n          });\n          _context4.next = 15;\n          return _regeneratorRuntime.awrap(PackageManager.installDev(dependenciesToInstall, {\n            root: root\n          }));\n\n        case 15:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, null, null, [[5, 9]], Promise);\n}","map":{"version":3,"sources":["/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/@react-native-community/cli/build/tools/generator/templates.js"],"names":["Object","defineProperty","exports","value","createProjectFromTemplate","_child_process","data","require","_fs","_interopRequireDefault","_path","_copyProjectTemplateAndReplace","_cliTools","PackageManager","_interopRequireWildcard","_getRequireWildcardCache","WeakMap","cache","obj","__esModule","default","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","destPath","newProjectName","template","templatePath","dirname","resolve","undefined","createFromRemoteTemplate","includes","installPackage","templateName","substr","lastIndexOf","logger","info","install","root","ignorePaths","installTemplateDependencies","installTemplateDevDependencies","uninstall","warn","dependenciesJsonPath","existsSync","dependencies","Error","message","dependenciesToInstall","keys","map","depName","execSync","cwd","stdio","devDependenciesJsonPath","installDev"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createProjectFromTemplate = createProjectFromTemplate;\n\nfunction _child_process() {\n  const data = require(\"child_process\");\n\n  _child_process = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _fs() {\n  const data = _interopRequireDefault(require(\"fs\"));\n\n  _fs = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _path() {\n  const data = _interopRequireDefault(require(\"path\"));\n\n  _path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _copyProjectTemplateAndReplace = _interopRequireDefault(require(\"./copyProjectTemplateAndReplace\"));\n\nfunction _cliTools() {\n  const data = require(\"@react-native-community/cli-tools\");\n\n  _cliTools = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar PackageManager = _interopRequireWildcard(require(\"../packageManager\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/**\n * @param destPath Create the new project at this path.\n * @param newProjectName For example 'AwesomeApp'.\n * @param template Template to use, for example 'navigation'.\n */\nasync function createProjectFromTemplate(destPath, newProjectName, template) {\n  const templatePath = _path().default.dirname(require.resolve('react-native/template'));\n\n  (0, _copyProjectTemplateAndReplace.default)(templatePath, destPath, newProjectName);\n\n  if (template === undefined) {\n    // No specific template, use just the react-native template above\n    return;\n  } // Keep the files from the react-native template, and overwrite some of them\n  // with the specified project template.\n  // The react-native template contains the native files (these are used by\n  // all templates) and every other template only contains additional JS code.\n  // Reason:\n  // This way we don't have to duplicate the native files in every template.\n  // If we duplicated them we'd make RN larger and risk that people would\n  // forget to maintain all the copies so they would go out of sync.\n\n\n  await createFromRemoteTemplate(template, destPath, newProjectName);\n}\n/**\n * The following formats are supported for the template:\n * - 'demo' -> Fetch the package react-native-template-demo from npm\n * - git://..., http://..., file://... or any other URL supported by npm\n */\n\n\nasync function createFromRemoteTemplate(template, destPath, newProjectName) {\n  let installPackage;\n  let templateName;\n\n  if (template.includes(':/')) {\n    // URL, e.g. git://, file://, file:/\n    installPackage = template;\n    templateName = template.substr(template.lastIndexOf('/') + 1);\n  } else {\n    // e.g 'demo'\n    installPackage = `react-native-template-${template}`;\n    templateName = installPackage;\n  } // Check if the template exists\n\n\n  _cliTools().logger.info(`Fetching template ${installPackage}...`);\n\n  try {\n    await PackageManager.install([installPackage], {\n      root: destPath\n    });\n\n    const templatePath = _path().default.resolve('node_modules', templateName);\n\n    (0, _copyProjectTemplateAndReplace.default)(templatePath, destPath, newProjectName, {\n      // Every template contains a dummy package.json file included\n      // only for publishing the template to npm.\n      // We want to ignore this dummy file, otherwise it would overwrite\n      // our project's package.json file.\n      ignorePaths: ['package.json', 'dependencies.json', 'devDependencies.json']\n    });\n    await installTemplateDependencies(templatePath, destPath);\n    await installTemplateDevDependencies(templatePath, destPath);\n  } finally {\n    // Clean up the temp files\n    try {\n      await PackageManager.uninstall([templateName], {\n        root: destPath\n      });\n    } catch (err) {\n      // Not critical but we still want people to know and report\n      // if this the clean up fails.\n      _cliTools().logger.warn(`Failed to clean up template temp files in node_modules/${templateName}. ` + 'This is not a critical error, you can work on your app.');\n    }\n  }\n}\n\nasync function installTemplateDependencies(templatePath, root) {\n  // dependencies.json is a special file that lists additional dependencies\n  // that are required by this template\n  const dependenciesJsonPath = _path().default.resolve(templatePath, 'dependencies.json');\n\n  _cliTools().logger.info('Adding dependencies for the project...');\n\n  if (!_fs().default.existsSync(dependenciesJsonPath)) {\n    _cliTools().logger.info('No additional dependencies.');\n\n    return;\n  }\n\n  let dependencies;\n\n  try {\n    dependencies = require(dependenciesJsonPath);\n  } catch (err) {\n    throw new Error(`Could not parse the template's dependencies.json: ${err.message}`);\n  }\n\n  const dependenciesToInstall = Object.keys(dependencies).map(depName => `${depName}@${dependencies[depName]}`);\n  await PackageManager.install(dependenciesToInstall, {\n    root\n  });\n\n  _cliTools().logger.info(\"Linking native dependencies into the project's build files...\");\n\n  (0, _child_process().execSync)('react-native link', {\n    cwd: root,\n    stdio: 'inherit'\n  });\n}\n\nasync function installTemplateDevDependencies(templatePath, root) {\n  // devDependencies.json is a special file that lists additional develop dependencies\n  // that are required by this template\n  const devDependenciesJsonPath = _path().default.resolve(templatePath, 'devDependencies.json');\n\n  _cliTools().logger.info('Adding develop dependencies for the project...');\n\n  if (!_fs().default.existsSync(devDependenciesJsonPath)) {\n    _cliTools().logger.info('No additional develop dependencies.');\n\n    return;\n  }\n\n  let dependencies;\n\n  try {\n    dependencies = require(devDependenciesJsonPath);\n  } catch (err) {\n    throw new Error(`Could not parse the template's devDependencies.json: ${err.message}`);\n  }\n\n  const dependenciesToInstall = Object.keys(dependencies).map(depName => `${depName}@${dependencies[depName]}`);\n  await PackageManager.installDev(dependenciesToInstall, {\n    root\n  });\n}\n\n//# sourceMappingURL=templates.js.map"]},"metadata":{},"sourceType":"script"}