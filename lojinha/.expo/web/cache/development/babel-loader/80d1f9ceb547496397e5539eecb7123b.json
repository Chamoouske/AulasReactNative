{"ast":null,"code":"'use strict';\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _assertThisInitialized = require(\"@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nvar _jsxFileName = \"/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/react-native/RNTester/js/examples/FlatList/FlatListExample.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar RNTesterPage = require(\"../../components/RNTesterPage\");\n\nvar React = require('react');\n\nvar infoLog = require(\"../../../../Libraries/Utilities/infoLog\");\n\nvar _require = require(\"../../components/ListExampleShared\"),\n    FooterComponent = _require.FooterComponent,\n    HeaderComponent = _require.HeaderComponent,\n    ItemComponent = _require.ItemComponent,\n    ListEmptyComponent = _require.ListEmptyComponent,\n    ItemSeparatorComponent = _require.ItemSeparatorComponent,\n    PlainInput = _require.PlainInput,\n    SeparatorComponent = _require.SeparatorComponent,\n    Spindicator = _require.Spindicator,\n    genItemData = _require.genItemData,\n    getItemLayout = _require.getItemLayout,\n    pressItem = _require.pressItem,\n    renderSmallSwitchOption = _require.renderSmallSwitchOption;\n\nvar Alert = require(\"react-native-web/dist/exports/Alert\").default;\n\nvar Animated = require(\"react-native-web/dist/exports/Animated\").default;\n\nvar Platform = require(\"react-native-web/dist/exports/Platform\").default;\n\nvar StyleSheet = require(\"react-native-web/dist/exports/StyleSheet\").default;\n\nvar TextInput = require(\"react-native-web/dist/exports/TextInput\").default;\n\nvar View = require(\"react-native-web/dist/exports/View\").default;\n\nvar VIEWABILITY_CONFIG = {\n  minimumViewTime: 3000,\n  viewAreaCoveragePercentThreshold: 100,\n  waitForInteraction: true\n};\n\nvar FlatListExample = function (_React$PureComponent) {\n  _inherits(FlatListExample, _React$PureComponent);\n\n  var _super = _createSuper(FlatListExample);\n\n  function FlatListExample() {\n    var _this;\n\n    _classCallCheck(this, FlatListExample);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      data: genItemData(100),\n      debug: false,\n      horizontal: false,\n      inverted: false,\n      filterText: '',\n      fixedHeight: true,\n      logViewable: false,\n      virtualized: true,\n      empty: false,\n      useFlatListItemComponent: false,\n      fadingEdgeLength: 0\n    };\n\n    _this._onChangeFilterText = function (filterText) {\n      _this.setState({\n        filterText: filterText\n      });\n    };\n\n    _this._onChangeScrollToIndex = function (text) {\n      _this._listRef.getNode().scrollToIndex({\n        viewPosition: 0.5,\n        index: Number(text)\n      });\n    };\n\n    _this._scrollPos = new Animated.Value(0);\n    _this._scrollSinkX = Animated.event([{\n      nativeEvent: {\n        contentOffset: {\n          x: _this._scrollPos\n        }\n      }\n    }], {\n      useNativeDriver: true\n    });\n    _this._scrollSinkY = Animated.event([{\n      nativeEvent: {\n        contentOffset: {\n          y: _this._scrollPos\n        }\n      }\n    }], {\n      useNativeDriver: true\n    });\n\n    _this._captureRef = function (ref) {\n      _this._listRef = ref;\n    };\n\n    _this._getItemLayout = function (data, index) {\n      return getItemLayout(data, index, _this.state.horizontal);\n    };\n\n    _this._onEndReached = function () {\n      if (_this.state.data.length >= 1000) {\n        return;\n      }\n\n      _this.setState(function (state) {\n        return {\n          data: state.data.concat(genItemData(100, state.data.length))\n        };\n      });\n    };\n\n    _this._onRefresh = function () {\n      return Alert.alert('onRefresh: nothing to refresh :P');\n    };\n\n    _this._renderItemComponent = function () {\n      var flatListPropKey = _this.state.useFlatListItemComponent ? 'ListItemComponent' : 'renderItem';\n      return _defineProperty({\n        renderItem: undefined\n      }, flatListPropKey, function (_ref) {\n        var item = _ref.item,\n            separators = _ref.separators;\n        return React.createElement(ItemComponent, {\n          item: item,\n          horizontal: _this.state.horizontal,\n          fixedHeight: _this.state.fixedHeight,\n          onPress: _this._pressItem,\n          onShowUnderlay: separators.highlight,\n          onHideUnderlay: separators.unhighlight,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 11\n          }\n        });\n      });\n    };\n\n    _this._onViewableItemsChanged = function (info) {\n      if (_this.state.logViewable) {\n        infoLog('onViewableItemsChanged: ', info.changed.map(function (v) {\n          return _objectSpread(_objectSpread({}, v), {}, {\n            item: '...'\n          });\n        }));\n      }\n    };\n\n    _this._pressItem = function (key) {\n      _this._listRef.getNode().recordInteraction();\n\n      pressItem(_assertThisInitialized(_this), key);\n    };\n\n    return _this;\n  }\n\n  _createClass(FlatListExample, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this._listRef.getNode().recordInteraction();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var filterRegex = new RegExp(String(this.state.filterText), 'i');\n\n      var filter = function filter(item) {\n        return filterRegex.test(item.text) || filterRegex.test(item.title);\n      };\n\n      var filteredData = this.state.data.filter(filter);\n\n      var flatListItemRendererProps = this._renderItemComponent();\n\n      return React.createElement(RNTesterPage, {\n        noSpacer: true,\n        noScroll: true,\n        title: \"Simple list of items\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.searchRow,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: styles.options,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }\n      }, React.createElement(PlainInput, {\n        onChangeText: this._onChangeFilterText,\n        placeholder: \"Search...\",\n        value: this.state.filterText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 15\n        }\n      }), React.createElement(PlainInput, {\n        onChangeText: this._onChangeScrollToIndex,\n        placeholder: \"scrollToIndex...\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 15\n        }\n      })), React.createElement(View, {\n        style: styles.options,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }\n      }, renderSmallSwitchOption(this, 'virtualized'), renderSmallSwitchOption(this, 'horizontal'), renderSmallSwitchOption(this, 'fixedHeight'), renderSmallSwitchOption(this, 'log'), renderSmallSwitchOption(this, 'inverted'), renderSmallSwitchOption(this, 'empty'), renderSmallSwitchOption(this, 'debug'), renderSmallSwitchOption(this, 'useFlatListItemComponent'), Platform.OS === 'android' && React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }\n      }, React.createElement(TextInput, {\n        placeholder: \"Fading edge length\",\n        underlineColorAndroid: \"black\",\n        keyboardType: 'numeric',\n        onChange: function onChange(event) {\n          return _this2.setState({\n            fadingEdgeLength: Number(event.nativeEvent.text)\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 19\n        }\n      })), React.createElement(Spindicator, {\n        value: this._scrollPos,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 15\n        }\n      }))), React.createElement(SeparatorComponent, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }\n      }), React.createElement(Animated.FlatList, _extends({\n        fadingEdgeLength: this.state.fadingEdgeLength,\n        ItemSeparatorComponent: ItemSeparatorComponent,\n        ListHeaderComponent: React.createElement(HeaderComponent, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 34\n          }\n        }),\n        ListFooterComponent: FooterComponent,\n        ListEmptyComponent: ListEmptyComponent,\n        data: this.state.empty ? [] : filteredData,\n        debug: this.state.debug,\n        disableVirtualization: !this.state.virtualized,\n        getItemLayout: this.state.fixedHeight ? this._getItemLayout : undefined,\n        horizontal: this.state.horizontal,\n        inverted: this.state.inverted,\n        key: (this.state.horizontal ? 'h' : 'v') + (this.state.fixedHeight ? 'f' : 'd'),\n        keyboardShouldPersistTaps: \"always\",\n        keyboardDismissMode: \"on-drag\",\n        numColumns: 1,\n        onEndReached: this._onEndReached,\n        onRefresh: this._onRefresh,\n        onScroll: this.state.horizontal ? this._scrollSinkX : this._scrollSinkY,\n        onViewableItemsChanged: this._onViewableItemsChanged,\n        ref: this._captureRef,\n        refreshing: false,\n        contentContainerStyle: styles.list,\n        viewabilityConfig: VIEWABILITY_CONFIG\n      }, flatListItemRendererProps, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }\n      }))));\n    }\n  }]);\n\n  return FlatListExample;\n}(React.PureComponent);\n\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: 'rgb(239, 239, 244)',\n    flex: 1\n  },\n  list: {\n    backgroundColor: 'white',\n    flexGrow: 1\n  },\n  options: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    alignItems: 'center'\n  },\n  searchRow: {\n    paddingHorizontal: 10\n  }\n});\nexports.title = '<FlatList>';\nexports.description = 'Performant, scrollable list of data.';\nexports.simpleExampleContainer = true;\nexports.examples = [{\n  title: 'Simple list of items',\n  render: function render() {\n    return React.createElement(FlatListExample, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 14\n      }\n    });\n  }\n}];","map":{"version":3,"sources":["/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/react-native/RNTester/js/examples/FlatList/FlatListExample.js"],"names":["RNTesterPage","require","React","infoLog","FooterComponent","HeaderComponent","ItemComponent","ListEmptyComponent","ItemSeparatorComponent","PlainInput","SeparatorComponent","Spindicator","genItemData","getItemLayout","pressItem","renderSmallSwitchOption","VIEWABILITY_CONFIG","minimumViewTime","viewAreaCoveragePercentThreshold","waitForInteraction","FlatListExample","state","data","debug","horizontal","inverted","filterText","fixedHeight","logViewable","virtualized","empty","useFlatListItemComponent","fadingEdgeLength","_onChangeFilterText","setState","_onChangeScrollToIndex","text","_listRef","getNode","scrollToIndex","viewPosition","index","Number","_scrollPos","Animated","Value","_scrollSinkX","event","nativeEvent","contentOffset","x","useNativeDriver","_scrollSinkY","y","_captureRef","ref","_getItemLayout","_onEndReached","length","concat","_onRefresh","Alert","alert","_renderItemComponent","flatListPropKey","renderItem","undefined","item","separators","_pressItem","highlight","unhighlight","_onViewableItemsChanged","info","changed","map","v","key","recordInteraction","filterRegex","RegExp","String","filter","test","title","filteredData","flatListItemRendererProps","styles","container","searchRow","options","Platform","OS","list","PureComponent","StyleSheet","create","backgroundColor","flex","flexGrow","flexDirection","flexWrap","alignItems","paddingHorizontal","exports","description","simpleExampleContainer","examples","render"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\n'use strict';\n\nconst RNTesterPage = require('../../components/RNTesterPage');\nconst React = require('react');\n\nconst infoLog = require('../../../../Libraries/Utilities/infoLog');\n\nconst {\n  FooterComponent,\n  HeaderComponent,\n  ItemComponent,\n  ListEmptyComponent,\n  ItemSeparatorComponent,\n  PlainInput,\n  SeparatorComponent,\n  Spindicator,\n  genItemData,\n  getItemLayout,\n  pressItem,\n  renderSmallSwitchOption,\n} = require('../../components/ListExampleShared');\nconst {\n  Alert,\n  Animated,\n  Platform,\n  StyleSheet,\n  TextInput,\n  View,\n} = require('react-native');\n\nimport type {Item} from '../../components/ListExampleShared';\n\nconst VIEWABILITY_CONFIG = {\n  minimumViewTime: 3000,\n  viewAreaCoveragePercentThreshold: 100,\n  waitForInteraction: true,\n};\n\ntype Props = $ReadOnly<{||}>;\ntype State = {|\n  data: Array<Item>,\n  debug: boolean,\n  horizontal: boolean,\n  inverted: boolean,\n  filterText: string,\n  fixedHeight: boolean,\n  logViewable: boolean,\n  virtualized: boolean,\n  empty: boolean,\n  useFlatListItemComponent: boolean,\n  fadingEdgeLength: number,\n|};\n\nclass FlatListExample extends React.PureComponent<Props, State> {\n  state: State = {\n    data: genItemData(100),\n    debug: false,\n    horizontal: false,\n    inverted: false,\n    filterText: '',\n    fixedHeight: true,\n    logViewable: false,\n    virtualized: true,\n    empty: false,\n    useFlatListItemComponent: false,\n    fadingEdgeLength: 0,\n  };\n\n  _onChangeFilterText = filterText => {\n    this.setState({filterText});\n  };\n\n  _onChangeScrollToIndex = text => {\n    this._listRef\n      .getNode()\n      .scrollToIndex({viewPosition: 0.5, index: Number(text)});\n  };\n\n  _scrollPos = new Animated.Value(0);\n  _scrollSinkX = Animated.event(\n    [{nativeEvent: {contentOffset: {x: this._scrollPos}}}],\n    {useNativeDriver: true},\n  );\n  _scrollSinkY = Animated.event(\n    [{nativeEvent: {contentOffset: {y: this._scrollPos}}}],\n    {useNativeDriver: true},\n  );\n\n  componentDidUpdate() {\n    this._listRef.getNode().recordInteraction(); // e.g. flipping logViewable switch\n  }\n\n  render(): React.Node {\n    const filterRegex = new RegExp(String(this.state.filterText), 'i');\n    const filter = item =>\n      filterRegex.test(item.text) || filterRegex.test(item.title);\n    const filteredData = this.state.data.filter(filter);\n    const flatListItemRendererProps = this._renderItemComponent();\n    return (\n      <RNTesterPage\n        noSpacer={true}\n        noScroll={true}\n        title=\"Simple list of items\">\n        <View style={styles.container}>\n          <View style={styles.searchRow}>\n            <View style={styles.options}>\n              <PlainInput\n                onChangeText={this._onChangeFilterText}\n                placeholder=\"Search...\"\n                value={this.state.filterText}\n              />\n              <PlainInput\n                onChangeText={this._onChangeScrollToIndex}\n                placeholder=\"scrollToIndex...\"\n              />\n            </View>\n            <View style={styles.options}>\n              {renderSmallSwitchOption(this, 'virtualized')}\n              {renderSmallSwitchOption(this, 'horizontal')}\n              {renderSmallSwitchOption(this, 'fixedHeight')}\n              {renderSmallSwitchOption(this, 'log')}\n              {renderSmallSwitchOption(this, 'inverted')}\n              {renderSmallSwitchOption(this, 'empty')}\n              {renderSmallSwitchOption(this, 'debug')}\n              {renderSmallSwitchOption(this, 'useFlatListItemComponent')}\n              {Platform.OS === 'android' && (\n                <View>\n                  <TextInput\n                    placeholder=\"Fading edge length\"\n                    underlineColorAndroid=\"black\"\n                    keyboardType={'numeric'}\n                    onChange={event =>\n                      this.setState({\n                        fadingEdgeLength: Number(event.nativeEvent.text),\n                      })\n                    }\n                  />\n                </View>\n              )}\n              <Spindicator value={this._scrollPos} />\n            </View>\n          </View>\n          <SeparatorComponent />\n          <Animated.FlatList\n            fadingEdgeLength={this.state.fadingEdgeLength}\n            ItemSeparatorComponent={ItemSeparatorComponent}\n            ListHeaderComponent={<HeaderComponent />}\n            ListFooterComponent={FooterComponent}\n            ListEmptyComponent={ListEmptyComponent}\n            data={this.state.empty ? [] : filteredData}\n            debug={this.state.debug}\n            disableVirtualization={!this.state.virtualized}\n            getItemLayout={\n              this.state.fixedHeight ? this._getItemLayout : undefined\n            }\n            horizontal={this.state.horizontal}\n            inverted={this.state.inverted}\n            key={\n              (this.state.horizontal ? 'h' : 'v') +\n              (this.state.fixedHeight ? 'f' : 'd')\n            }\n            keyboardShouldPersistTaps=\"always\"\n            keyboardDismissMode=\"on-drag\"\n            numColumns={1}\n            onEndReached={this._onEndReached}\n            onRefresh={this._onRefresh}\n            onScroll={\n              this.state.horizontal ? this._scrollSinkX : this._scrollSinkY\n            }\n            onViewableItemsChanged={this._onViewableItemsChanged}\n            ref={this._captureRef}\n            refreshing={false}\n            contentContainerStyle={styles.list}\n            viewabilityConfig={VIEWABILITY_CONFIG}\n            {...flatListItemRendererProps}\n          />\n        </View>\n      </RNTesterPage>\n    );\n  }\n  _captureRef = ref => {\n    this._listRef = ref;\n  };\n  _getItemLayout = (data: any, index: number) => {\n    return getItemLayout(data, index, this.state.horizontal);\n  };\n  _onEndReached = () => {\n    if (this.state.data.length >= 1000) {\n      return;\n    }\n    this.setState(state => ({\n      data: state.data.concat(genItemData(100, state.data.length)),\n    }));\n  };\n  _onRefresh = () => Alert.alert('onRefresh: nothing to refresh :P');\n  _renderItemComponent = () => {\n    const flatListPropKey = this.state.useFlatListItemComponent\n      ? 'ListItemComponent'\n      : 'renderItem';\n\n    return {\n      renderItem: undefined,\n      /* $FlowFixMe(>=0.111.0 site=react_native_fb) This comment suppresses an\n       * error found when Flow v0.111 was deployed. To see the error, delete\n       * this comment and run Flow. */\n      [flatListPropKey]: ({item, separators}) => {\n        return (\n          <ItemComponent\n            item={item}\n            horizontal={this.state.horizontal}\n            fixedHeight={this.state.fixedHeight}\n            onPress={this._pressItem}\n            onShowUnderlay={separators.highlight}\n            onHideUnderlay={separators.unhighlight}\n          />\n        );\n      },\n    };\n  };\n  // This is called when items change viewability by scrolling into or out of\n  // the viewable area.\n  _onViewableItemsChanged = (info: {\n    changed: Array<{\n      key: string,\n      isViewable: boolean,\n      item: any,\n      index: ?number,\n      section?: any,\n      ...\n    }>,\n    ...\n  }) => {\n    // Impressions can be logged here\n    if (this.state.logViewable) {\n      infoLog(\n        'onViewableItemsChanged: ',\n        info.changed.map(v => ({...v, item: '...'})),\n      );\n    }\n  };\n  _pressItem = (key: string) => {\n    this._listRef.getNode().recordInteraction();\n    pressItem(this, key);\n  };\n  _listRef: React.ElementRef<typeof Animated.FlatList>;\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: 'rgb(239, 239, 244)',\n    flex: 1,\n  },\n  list: {\n    backgroundColor: 'white',\n    flexGrow: 1,\n  },\n  options: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n  },\n  searchRow: {\n    paddingHorizontal: 10,\n  },\n});\n\nexports.title = '<FlatList>';\nexports.description = 'Performant, scrollable list of data.';\nexports.simpleExampleContainer = true;\nexports.examples = [\n  {\n    title: 'Simple list of items',\n    render: function(): React.Element<typeof FlatListExample> {\n      return <FlatListExample />;\n    },\n  },\n];\n"]},"metadata":{},"sourceType":"script"}