{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"@babel/runtime/helpers/inherits\");\n\nvar _possibleConstructorReturn = require(\"@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"@babel/runtime/helpers/getPrototypeOf\");\n\nvar _jsxFileName = \"/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/react-native/RNTester/js/examples/XHR/XHRExampleOnTimeOut.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar React = require('react');\n\nvar StyleSheet = require(\"react-native-web/dist/exports/StyleSheet\").default;\n\nvar Text = require(\"react-native-web/dist/exports/Text\").default;\n\nvar TouchableHighlight = require(\"react-native-web/dist/exports/TouchableHighlight\").default;\n\nvar View = require(\"react-native-web/dist/exports/View\").default;\n\nvar XHRExampleOnTimeOut = function (_React$Component) {\n  _inherits(XHRExampleOnTimeOut, _React$Component);\n\n  var _super = _createSuper(XHRExampleOnTimeOut);\n\n  function XHRExampleOnTimeOut(props) {\n    var _this;\n\n    _classCallCheck(this, XHRExampleOnTimeOut);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      status: '',\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(XHRExampleOnTimeOut, [{\n    key: \"loadTimeOutRequest\",\n    value: function loadTimeOutRequest() {\n      var _this2 = this;\n\n      this.xhr && this.xhr.abort();\n      var xhr = this.xhr || new XMLHttpRequest();\n\n      xhr.onerror = function () {\n        console.log('Status ', xhr.status);\n        console.log('Error ', xhr.responseText);\n      };\n\n      xhr.ontimeout = function () {\n        _this2.setState({\n          status: xhr.responseText,\n          loading: false\n        });\n      };\n\n      xhr.onload = function () {\n        console.log('Status ', xhr.status);\n        console.log('Response ', xhr.responseText);\n      };\n\n      xhr.open('GET', 'https://httpbin.org/delay/5');\n      xhr.timeout = 2000;\n      xhr.send();\n      this.xhr = xhr;\n      this.setState({\n        loading: true\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.xhr && this.xhr.abort();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var button = this.state.loading ? React.createElement(View, {\n        style: styles.wrapper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.button,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }\n      }, \"Loading...\"))) : React.createElement(TouchableHighlight, {\n        style: styles.wrapper,\n        onPress: this.loadTimeOutRequest.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.button,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }\n      }, \"Make Time Out Request\")));\n      return React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 7\n        }\n      }, button, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }\n      }, this.state.status));\n    }\n  }]);\n\n  return XHRExampleOnTimeOut;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  wrapper: {\n    borderRadius: 5,\n    marginBottom: 5\n  },\n  button: {\n    backgroundColor: '#eeeeee',\n    padding: 8\n  }\n});\nmodule.exports = XHRExampleOnTimeOut;","map":{"version":3,"sources":["/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/react-native/RNTester/js/examples/XHR/XHRExampleOnTimeOut.js"],"names":["React","require","XHRExampleOnTimeOut","props","state","status","loading","xhr","abort","XMLHttpRequest","onerror","console","log","responseText","ontimeout","setState","onload","open","timeout","send","button","styles","wrapper","loadTimeOutRequest","bind","Component","StyleSheet","create","borderRadius","marginBottom","backgroundColor","padding","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\n'use strict';\n\nconst React = require('react');\n\nconst {StyleSheet, Text, TouchableHighlight, View} = require('react-native');\n\nclass XHRExampleOnTimeOut extends React.Component<any, any> {\n  xhr: XMLHttpRequest;\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      status: '',\n      loading: false,\n    };\n  }\n\n  loadTimeOutRequest() {\n    this.xhr && this.xhr.abort();\n\n    const xhr = this.xhr || new XMLHttpRequest();\n\n    xhr.onerror = () => {\n      console.log('Status ', xhr.status);\n      console.log('Error ', xhr.responseText);\n    };\n\n    xhr.ontimeout = () => {\n      this.setState({\n        status: xhr.responseText,\n        loading: false,\n      });\n    };\n\n    xhr.onload = () => {\n      console.log('Status ', xhr.status);\n      console.log('Response ', xhr.responseText);\n    };\n\n    xhr.open('GET', 'https://httpbin.org/delay/5'); // request to take 5 seconds to load\n    xhr.timeout = 2000; // request times out in 2 seconds\n    xhr.send();\n    this.xhr = xhr;\n\n    this.setState({loading: true});\n  }\n\n  componentWillUnmount() {\n    this.xhr && this.xhr.abort();\n  }\n\n  render(): React.Node {\n    const button = this.state.loading ? (\n      <View style={styles.wrapper}>\n        <View style={styles.button}>\n          <Text>Loading...</Text>\n        </View>\n      </View>\n    ) : (\n      <TouchableHighlight\n        style={styles.wrapper}\n        onPress={this.loadTimeOutRequest.bind(this)}>\n        <View style={styles.button}>\n          <Text>Make Time Out Request</Text>\n        </View>\n      </TouchableHighlight>\n    );\n\n    return (\n      <View>\n        {button}\n        <Text>{this.state.status}</Text>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  wrapper: {\n    borderRadius: 5,\n    marginBottom: 5,\n  },\n  button: {\n    backgroundColor: '#eeeeee',\n    padding: 8,\n  },\n});\n\nmodule.exports = XHRExampleOnTimeOut;\n"]},"metadata":{},"sourceType":"script"}