{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"@babel/runtime/regenerator\");\n\nvar _defineProperty = require(\"@babel/runtime/helpers/defineProperty\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _Server() {\n  var data = _interopRequireDefault(require(\"metro/src/Server\"));\n\n  _Server = function _Server() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _bundle() {\n  var data = _interopRequireDefault(require(\"metro/src/shared/output/bundle\"));\n\n  _bundle = function _bundle() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _path() {\n  var data = _interopRequireDefault(require(\"path\"));\n\n  _path = function _path() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _chalk() {\n  var data = _interopRequireDefault(require(\"chalk\"));\n\n  _chalk = function _chalk() {\n    return data;\n  };\n\n  return data;\n}\n\nvar _saveAssets = _interopRequireDefault(require(\"./saveAssets\"));\n\nvar _loadMetroConfig = _interopRequireDefault(require(\"../../tools/loadMetroConfig\"));\n\nfunction _cliTools() {\n  var data = require(\"@react-native-community/cli-tools\");\n\n  _cliTools = function _cliTools() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction buildBundle(args, ctx) {\n  var output,\n      config,\n      sourceMapUrl,\n      requestOpts,\n      server,\n      bundle,\n      outputAssets,\n      _args = arguments;\n  return _regeneratorRuntime.async(function buildBundle$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          output = _args.length > 2 && _args[2] !== undefined ? _args[2] : _bundle().default;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap((0, _loadMetroConfig.default)(ctx, {\n            maxWorkers: args.maxWorkers,\n            resetCache: args.resetCache,\n            config: args.config\n          }));\n\n        case 3:\n          config = _context.sent;\n\n          if (!(config.resolver.platforms.indexOf(args.platform) === -1)) {\n            _context.next = 8;\n            break;\n          }\n\n          _cliTools().logger.error(\"Invalid platform \" + (args.platform ? \"\\\"\" + _chalk().default.bold(args.platform) + \"\\\" \" : '') + \"selected.\");\n\n          _cliTools().logger.info(\"Available platforms are: \" + config.resolver.platforms.map(function (x) {\n            return \"\\\"\" + _chalk().default.bold(x) + \"\\\"\";\n          }).join(', ') + \". If you are trying to bundle for an out-of-tree platform, it may not be installed.\");\n\n          throw new Error('Bundling failed');\n\n        case 8:\n          process.env.NODE_ENV = args.dev ? 'development' : 'production';\n          sourceMapUrl = args.sourcemapOutput;\n\n          if (sourceMapUrl && !args.sourcemapUseAbsolutePath) {\n            sourceMapUrl = _path().default.basename(sourceMapUrl);\n          }\n\n          requestOpts = {\n            entryFile: args.entryFile,\n            sourceMapUrl: sourceMapUrl,\n            dev: args.dev,\n            minify: args.minify !== undefined ? args.minify : !args.dev,\n            platform: args.platform\n          };\n          server = new (_Server().default)(config);\n          _context.prev = 13;\n          _context.next = 16;\n          return _regeneratorRuntime.awrap(output.build(server, requestOpts));\n\n        case 16:\n          bundle = _context.sent;\n          _context.next = 19;\n          return _regeneratorRuntime.awrap(output.save(bundle, args, _cliTools().logger.info));\n\n        case 19:\n          _context.next = 21;\n          return _regeneratorRuntime.awrap(server.getAssets(_objectSpread(_objectSpread(_objectSpread({}, _Server().default.DEFAULT_BUNDLE_OPTIONS), requestOpts), {}, {\n            bundleType: 'todo'\n          })));\n\n        case 21:\n          outputAssets = _context.sent;\n          _context.next = 24;\n          return _regeneratorRuntime.awrap((0, _saveAssets.default)(outputAssets, args.platform, args.assetsDest));\n\n        case 24:\n          return _context.abrupt(\"return\", _context.sent);\n\n        case 25:\n          _context.prev = 25;\n          server.end();\n          return _context.finish(25);\n\n        case 28:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[13,, 25, 28]], Promise);\n}\n\nvar _default = buildBundle;\nexports.default = _default;","map":{"version":3,"sources":["/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/@react-native-community/cli/build/commands/bundle/buildBundle.js"],"names":["Object","defineProperty","exports","value","default","_Server","data","_interopRequireDefault","require","_bundle","_path","_chalk","_saveAssets","_loadMetroConfig","_cliTools","obj","__esModule","buildBundle","args","ctx","output","maxWorkers","resetCache","config","resolver","platforms","indexOf","platform","logger","error","bold","info","map","x","join","Error","process","env","NODE_ENV","dev","sourceMapUrl","sourcemapOutput","sourcemapUseAbsolutePath","basename","requestOpts","entryFile","minify","undefined","server","build","bundle","save","getAssets","DEFAULT_BUNDLE_OPTIONS","bundleType","outputAssets","assetsDest","end","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _Server() {\n  const data = _interopRequireDefault(require(\"metro/src/Server\"));\n\n  _Server = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _bundle() {\n  const data = _interopRequireDefault(require(\"metro/src/shared/output/bundle\"));\n\n  _bundle = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _path() {\n  const data = _interopRequireDefault(require(\"path\"));\n\n  _path = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _chalk() {\n  const data = _interopRequireDefault(require(\"chalk\"));\n\n  _chalk = function () {\n    return data;\n  };\n\n  return data;\n}\n\nvar _saveAssets = _interopRequireDefault(require(\"./saveAssets\"));\n\nvar _loadMetroConfig = _interopRequireDefault(require(\"../../tools/loadMetroConfig\"));\n\nfunction _cliTools() {\n  const data = require(\"@react-native-community/cli-tools\");\n\n  _cliTools = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n// @ts-ignore - no typed definition for the package\n// @ts-ignore - no typed definition for the package\nasync function buildBundle(args, ctx, output = _bundle().default) {\n  const config = await (0, _loadMetroConfig.default)(ctx, {\n    maxWorkers: args.maxWorkers,\n    resetCache: args.resetCache,\n    config: args.config\n  });\n\n  if (config.resolver.platforms.indexOf(args.platform) === -1) {\n    _cliTools().logger.error(`Invalid platform ${args.platform ? `\"${_chalk().default.bold(args.platform)}\" ` : ''}selected.`);\n\n    _cliTools().logger.info(`Available platforms are: ${config.resolver.platforms.map(x => `\"${_chalk().default.bold(x)}\"`).join(', ')}. If you are trying to bundle for an out-of-tree platform, it may not be installed.`);\n\n    throw new Error('Bundling failed');\n  } // This is used by a bazillion of npm modules we don't control so we don't\n  // have other choice than defining it as an env variable here.\n\n\n  process.env.NODE_ENV = args.dev ? 'development' : 'production';\n  let sourceMapUrl = args.sourcemapOutput;\n\n  if (sourceMapUrl && !args.sourcemapUseAbsolutePath) {\n    sourceMapUrl = _path().default.basename(sourceMapUrl);\n  }\n\n  const requestOpts = {\n    entryFile: args.entryFile,\n    sourceMapUrl,\n    dev: args.dev,\n    minify: args.minify !== undefined ? args.minify : !args.dev,\n    platform: args.platform\n  };\n  const server = new (_Server().default)(config);\n\n  try {\n    const bundle = await output.build(server, requestOpts);\n    await output.save(bundle, args, _cliTools().logger.info); // Save the assets of the bundle\n\n    const outputAssets = await server.getAssets({ ..._Server().default.DEFAULT_BUNDLE_OPTIONS,\n      ...requestOpts,\n      bundleType: 'todo'\n    }); // When we're done saving bundle output and the assets, we're done.\n\n    return await (0, _saveAssets.default)(outputAssets, args.platform, args.assetsDest);\n  } finally {\n    server.end();\n  }\n}\n\nvar _default = buildBundle;\nexports.default = _default;\n\n//# sourceMappingURL=buildBundle.js.map"]},"metadata":{},"sourceType":"script"}