{"ast":null,"code":"'use strict';\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar moduleTemplate = \"\\nclass JSI_EXPORT Native::_MODULE_NAME_::CxxSpecJSI : public TurboModule {\\nprotected:\\n  Native::_MODULE_NAME_::CxxSpecJSI(std::shared_ptr<CallInvoker> jsInvoker);\\n\\npublic:\\n::_MODULE_PROPERTIES_::\\n\\n};\";\nvar template = \"\\n/**\\n * Copyright (c) Facebook, Inc. and its affiliates.\\n *\\n * This source code is licensed under the MIT license found in the\\n * LICENSE file in the root directory of this source tree.\\n */\\n\\n#pragma once\\n\\n#include <ReactCommon/TurboModule.h>\\n\\nnamespace facebook {\\nnamespace react {\\n::_MODULES_::\\n\\n} // namespace react\\n} // namespace facebook\\n\";\n\nfunction translatePrimitiveJSTypeToCpp(type, error) {\n  switch (type.type) {\n    case 'VoidTypeAnnotation':\n      return 'void';\n\n    case 'StringTypeAnnotation':\n      return 'jsi::String';\n\n    case 'NumberTypeAnnotation':\n    case 'FloatTypeAnnotation':\n      return 'double';\n\n    case 'Int32TypeAnnotation':\n      return 'int';\n\n    case 'BooleanTypeAnnotation':\n      return 'bool';\n\n    case 'GenericObjectTypeAnnotation':\n    case 'ObjectTypeAnnotation':\n      return 'jsi::Object';\n\n    case 'ArrayTypeAnnotation':\n      return 'jsi::Array';\n\n    case 'FunctionTypeAnnotation':\n      return 'jsi::Function';\n\n    case 'GenericPromiseTypeAnnotation':\n      return 'jsi::Value';\n\n    default:\n      throw new Error(error);\n  }\n}\n\nvar propertyTemplate = 'virtual ::_RETURN_VALUE_:: ::_PROPERTY_NAME_::(jsi::Runtime &rt::_ARGS_::) = 0;';\nmodule.exports = {\n  generate: function generate(libraryName, schema, moduleSpecName) {\n    var nativeModules = Object.keys(schema.modules).map(function (moduleName) {\n      var modules = schema.modules[moduleName].nativeModules;\n\n      if (modules == null) {\n        return null;\n      }\n\n      return modules;\n    }).filter(Boolean).reduce(function (acc, components) {\n      return _extends(acc, components);\n    }, {});\n    var modules = Object.keys(nativeModules).map(function (name) {\n      var properties = nativeModules[name].properties;\n      var traversedProperties = properties.map(function (prop) {\n        var traversedArgs = prop.typeAnnotation.params.map(function (param) {\n          var translatedParam = translatePrimitiveJSTypeToCpp(param.typeAnnotation, \"Unspopported type for param \\\"\" + param.name + \"\\\" in \" + prop.name + \". Found: \" + param.typeAnnotation.type);\n          var isObject = translatedParam.startsWith('jsi::');\n          return (isObject ? 'const ' + translatedParam + ' &' : translatedParam + ' ') + param.name;\n        }).join(', ');\n        return propertyTemplate.replace('::_PROPERTY_NAME_::', prop.name).replace('::_RETURN_VALUE_::', translatePrimitiveJSTypeToCpp(prop.typeAnnotation.returnTypeAnnotation, \"Unspopported return type for \" + prop.name + \". Found: \" + prop.typeAnnotation.returnTypeAnnotation.type)).replace('::_ARGS_::', traversedArgs === '' ? '' : ', ' + traversedArgs);\n      }).join('\\n');\n      return moduleTemplate.replace(/::_MODULE_PROPERTIES_::/g, traversedProperties).replace(/::_MODULE_NAME_::/g, name).replace('::_PROPERTIES_MAP_::', '');\n    }).join('\\n');\n    var fileName = 'NativeModules.h';\n    var replacedTemplate = template.replace(/::_MODULES_::/g, modules);\n    return new Map([[fileName, replacedTemplate]]);\n  }\n};","map":{"version":3,"sources":["/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/react-native/packages/react-native-codegen/src/generators/modules/GenerateModuleH.js"],"names":["moduleTemplate","template","translatePrimitiveJSTypeToCpp","type","error","Error","propertyTemplate","module","exports","generate","libraryName","schema","moduleSpecName","nativeModules","Object","keys","modules","map","moduleName","filter","Boolean","reduce","acc","components","name","properties","traversedProperties","prop","traversedArgs","typeAnnotation","params","param","translatedParam","isObject","startsWith","join","replace","returnTypeAnnotation","fileName","replacedTemplate","Map"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow strict\n * @format\n */\n\n'use strict';\n\nimport type {\n  SchemaType,\n  FunctionTypeAnnotationParamTypeAnnotation,\n  FunctionTypeAnnotationReturn,\n} from '../../CodegenSchema';\n\ntype FilesOutput = Map<string, string>;\n\nconst moduleTemplate = `\nclass JSI_EXPORT Native::_MODULE_NAME_::CxxSpecJSI : public TurboModule {\nprotected:\n  Native::_MODULE_NAME_::CxxSpecJSI(std::shared_ptr<CallInvoker> jsInvoker);\n\npublic:\n::_MODULE_PROPERTIES_::\n\n};`;\n\nconst template = `\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n#pragma once\n\n#include <ReactCommon/TurboModule.h>\n\nnamespace facebook {\nnamespace react {\n::_MODULES_::\n\n} // namespace react\n} // namespace facebook\n`;\n\nfunction translatePrimitiveJSTypeToCpp(\n  type:\n    | FunctionTypeAnnotationParamTypeAnnotation\n    | FunctionTypeAnnotationReturn,\n  error: string,\n) {\n  switch (type.type) {\n    case 'VoidTypeAnnotation':\n      return 'void';\n    case 'StringTypeAnnotation':\n      return 'jsi::String';\n    case 'NumberTypeAnnotation':\n    case 'FloatTypeAnnotation':\n      return 'double';\n    case 'Int32TypeAnnotation':\n      return 'int';\n    case 'BooleanTypeAnnotation':\n      return 'bool';\n    case 'GenericObjectTypeAnnotation':\n    case 'ObjectTypeAnnotation':\n      return 'jsi::Object';\n    case 'ArrayTypeAnnotation':\n      return 'jsi::Array';\n    case 'FunctionTypeAnnotation':\n      return 'jsi::Function';\n    case 'GenericPromiseTypeAnnotation':\n      return 'jsi::Value';\n\n    default:\n      throw new Error(error);\n  }\n}\nconst propertyTemplate =\n  'virtual ::_RETURN_VALUE_:: ::_PROPERTY_NAME_::(jsi::Runtime &rt::_ARGS_::) = 0;';\n\nmodule.exports = {\n  generate(\n    libraryName: string,\n    schema: SchemaType,\n    moduleSpecName: string,\n  ): FilesOutput {\n    const nativeModules = Object.keys(schema.modules)\n      .map(moduleName => {\n        const modules = schema.modules[moduleName].nativeModules;\n        if (modules == null) {\n          return null;\n        }\n\n        return modules;\n      })\n      .filter(Boolean)\n      .reduce((acc, components) => Object.assign(acc, components), {});\n\n    const modules = Object.keys(nativeModules)\n      .map(name => {\n        const {properties} = nativeModules[name];\n        const traversedProperties = properties\n          .map(prop => {\n            const traversedArgs = prop.typeAnnotation.params\n              .map(param => {\n                const translatedParam = translatePrimitiveJSTypeToCpp(\n                  param.typeAnnotation,\n                  `Unspopported type for param \"${param.name}\" in ${\n                    prop.name\n                  }. Found: ${param.typeAnnotation.type}`,\n                );\n                const isObject = translatedParam.startsWith('jsi::');\n                return (\n                  (isObject\n                    ? 'const ' + translatedParam + ' &'\n                    : translatedParam + ' ') + param.name\n                );\n              })\n              .join(', ');\n            return propertyTemplate\n              .replace('::_PROPERTY_NAME_::', prop.name)\n              .replace(\n                '::_RETURN_VALUE_::',\n                translatePrimitiveJSTypeToCpp(\n                  prop.typeAnnotation.returnTypeAnnotation,\n                  `Unspopported return type for ${prop.name}. Found: ${\n                    prop.typeAnnotation.returnTypeAnnotation.type\n                  }`,\n                ),\n              )\n              .replace(\n                '::_ARGS_::',\n                traversedArgs === '' ? '' : ', ' + traversedArgs,\n              );\n          })\n          .join('\\n');\n        return moduleTemplate\n          .replace(/::_MODULE_PROPERTIES_::/g, traversedProperties)\n          .replace(/::_MODULE_NAME_::/g, name)\n          .replace('::_PROPERTIES_MAP_::', '');\n      })\n      .join('\\n');\n\n    const fileName = 'NativeModules.h';\n    const replacedTemplate = template.replace(/::_MODULES_::/g, modules);\n\n    return new Map([[fileName, replacedTemplate]]);\n  },\n};\n"]},"metadata":{},"sourceType":"script"}