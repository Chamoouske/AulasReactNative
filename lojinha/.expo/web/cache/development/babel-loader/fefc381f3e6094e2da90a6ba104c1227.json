{"ast":null,"code":"var pbxProj = require(\"./pbxProject\"),\n    util = require('util'),\n    f = util.format,\n    INDENT = '\\t',\n    COMMENT_KEY = /_comment$/,\n    QUOTED = /^\"(.*)\"$/,\n    EventEmitter = require('events').EventEmitter;\n\nfunction i(x) {\n  if (x <= 0) return '';else return INDENT + i(x - 1);\n}\n\nfunction comment(key, parent) {\n  var text = parent[key + '_comment'];\n  if (text) return text;else return null;\n}\n\nfunction isObject(obj) {\n  return obj === Object(obj);\n}\n\nfunction isArray(obj) {\n  return Array.isArray(obj);\n}\n\nfunction pbxWriter(contents, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (options.omitEmptyValues === undefined) {\n    options.omitEmptyValues = false;\n  }\n\n  this.contents = contents;\n  this.sync = false;\n  this.indentLevel = 0;\n  this.omitEmptyValues = options.omitEmptyValues;\n}\n\nutil.inherits(pbxWriter, EventEmitter);\n\npbxWriter.prototype.write = function (str) {\n  var fmt = f.apply(null, arguments);\n\n  if (this.sync) {\n    this.buffer += f(\"%s%s\", i(this.indentLevel), fmt);\n  } else {}\n};\n\npbxWriter.prototype.writeFlush = function (str) {\n  var oldIndent = this.indentLevel;\n  this.indentLevel = 0;\n  this.write.apply(this, arguments);\n  this.indentLevel = oldIndent;\n};\n\npbxWriter.prototype.writeSync = function () {\n  this.sync = true;\n  this.buffer = \"\";\n  this.writeHeadComment();\n  this.writeProject();\n  return this.buffer;\n};\n\npbxWriter.prototype.writeHeadComment = function () {\n  if (this.contents.headComment) {\n    this.write(\"// %s\\n\", this.contents.headComment);\n  }\n};\n\npbxWriter.prototype.writeProject = function () {\n  var proj = this.contents.project,\n      key,\n      cmt,\n      obj;\n  this.write(\"{\\n\");\n\n  if (proj) {\n    this.indentLevel++;\n\n    for (key in proj) {\n      if (COMMENT_KEY.test(key)) continue;\n      cmt = comment(key, proj);\n      obj = proj[key];\n\n      if (isArray(obj)) {\n        this.writeArray(obj, key);\n      } else if (isObject(obj)) {\n        this.write(\"%s = {\\n\", key);\n        this.indentLevel++;\n\n        if (key === 'objects') {\n          this.writeObjectsSections(obj);\n        } else {\n          this.writeObject(obj);\n        }\n\n        this.indentLevel--;\n        this.write(\"};\\n\");\n      } else if (this.omitEmptyValues && (obj === undefined || obj === null)) {\n        continue;\n      } else if (cmt) {\n        this.write(\"%s = %s /* %s */;\\n\", key, obj, cmt);\n      } else {\n        this.write(\"%s = %s;\\n\", key, obj);\n      }\n    }\n\n    this.indentLevel--;\n  }\n\n  this.write(\"}\\n\");\n};\n\npbxWriter.prototype.writeObject = function (object) {\n  var key, obj, cmt;\n\n  for (key in object) {\n    if (COMMENT_KEY.test(key)) continue;\n    cmt = comment(key, object);\n    obj = object[key];\n\n    if (isArray(obj)) {\n      this.writeArray(obj, key);\n    } else if (isObject(obj)) {\n      this.write(\"%s = {\\n\", key);\n      this.indentLevel++;\n      this.writeObject(obj);\n      this.indentLevel--;\n      this.write(\"};\\n\");\n    } else {\n      if (this.omitEmptyValues && (obj === undefined || obj === null)) {\n        continue;\n      } else if (cmt) {\n        this.write(\"%s = %s /* %s */;\\n\", key, obj, cmt);\n      } else {\n        this.write(\"%s = %s;\\n\", key, obj);\n      }\n    }\n  }\n};\n\npbxWriter.prototype.writeObjectsSections = function (objects) {\n  var key, obj;\n\n  for (key in objects) {\n    this.writeFlush(\"\\n\");\n    obj = objects[key];\n\n    if (isObject(obj)) {\n      this.writeSectionComment(key, true);\n      this.writeSection(obj);\n      this.writeSectionComment(key, false);\n    }\n  }\n};\n\npbxWriter.prototype.writeArray = function (arr, name) {\n  var i, entry;\n  this.write(\"%s = (\\n\", name);\n  this.indentLevel++;\n\n  for (i = 0; i < arr.length; i++) {\n    entry = arr[i];\n\n    if (entry.value && entry.comment) {\n      this.write('%s /* %s */,\\n', entry.value, entry.comment);\n    } else if (isObject(entry)) {\n      this.write('{\\n');\n      this.indentLevel++;\n      this.writeObject(entry);\n      this.indentLevel--;\n      this.write('},\\n');\n    } else {\n      this.write('%s,\\n', entry);\n    }\n  }\n\n  this.indentLevel--;\n  this.write(\");\\n\");\n};\n\npbxWriter.prototype.writeSectionComment = function (name, begin) {\n  if (begin) {\n    this.writeFlush(\"/* Begin %s section */\\n\", name);\n  } else {\n    this.writeFlush(\"/* End %s section */\\n\", name);\n  }\n};\n\npbxWriter.prototype.writeSection = function (section) {\n  var key, obj, cmt;\n\n  for (key in section) {\n    if (COMMENT_KEY.test(key)) continue;\n    cmt = comment(key, section);\n    obj = section[key];\n\n    if (obj.isa == 'PBXBuildFile' || obj.isa == 'PBXFileReference') {\n      this.writeInlineObject(key, cmt, obj);\n    } else {\n      if (cmt) {\n        this.write(\"%s /* %s */ = {\\n\", key, cmt);\n      } else {\n        this.write(\"%s = {\\n\", key);\n      }\n\n      this.indentLevel++;\n      this.writeObject(obj);\n      this.indentLevel--;\n      this.write(\"};\\n\");\n    }\n  }\n};\n\npbxWriter.prototype.writeInlineObject = function (n, d, r) {\n  var output = [];\n  var self = this;\n\n  var inlineObjectHelper = function inlineObjectHelper(name, desc, ref) {\n    var key, cmt, obj;\n\n    if (desc) {\n      output.push(f(\"%s /* %s */ = {\", name, desc));\n    } else {\n      output.push(f(\"%s = {\", name));\n    }\n\n    for (key in ref) {\n      if (COMMENT_KEY.test(key)) continue;\n      cmt = comment(key, ref);\n      obj = ref[key];\n\n      if (isArray(obj)) {\n        output.push(f(\"%s = (\", key));\n\n        for (var i = 0; i < obj.length; i++) {\n          output.push(f(\"%s, \", obj[i]));\n        }\n\n        output.push(\"); \");\n      } else if (isObject(obj)) {\n        inlineObjectHelper(key, cmt, obj);\n      } else if (self.omitEmptyValues && (obj === undefined || obj === null)) {\n        continue;\n      } else if (cmt) {\n        output.push(f(\"%s = %s /* %s */; \", key, obj, cmt));\n      } else {\n        output.push(f(\"%s = %s; \", key, obj));\n      }\n    }\n\n    output.push(\"}; \");\n  };\n\n  inlineObjectHelper(n, d, r);\n  this.write(\"%s\\n\", output.join('').trim());\n};\n\nmodule.exports = pbxWriter;","map":{"version":3,"sources":["/home/chamoouske/Aulas/ReactNative/RandomWord/node_modules/@expo/configure-splash-screen/node_modules/xcode/lib/pbxWriter.js"],"names":["pbxProj","require","util","f","format","INDENT","COMMENT_KEY","QUOTED","EventEmitter","i","x","comment","key","parent","text","isObject","obj","Object","isArray","Array","pbxWriter","contents","options","omitEmptyValues","undefined","sync","indentLevel","inherits","prototype","write","str","fmt","apply","arguments","buffer","writeFlush","oldIndent","writeSync","writeHeadComment","writeProject","headComment","proj","project","cmt","test","writeArray","writeObjectsSections","writeObject","object","objects","writeSectionComment","writeSection","arr","name","entry","length","value","begin","section","isa","writeInlineObject","n","d","r","output","self","inlineObjectHelper","desc","ref","push","join","trim","module","exports"],"mappings":"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","sourcesContent":["/**\n Licensed to the Apache Software Foundation (ASF) under one\n or more contributor license agreements.  See the NOTICE file\n distributed with this work for additional information\n regarding copyright ownership.  The ASF licenses this file\n to you under the Apache License, Version 2.0 (the\n 'License'); you may not use this file except in compliance\n with the License.  You may obtain a copy of the License at\n http://www.apache.org/licenses/LICENSE-2.0\n Unless required by applicable law or agreed to in writing,\n software distributed under the License is distributed on an\n 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n KIND, either express or implied.  See the License for the\n specific language governing permissions and limitations\n under the License.\n */\n\nvar pbxProj = require('./pbxProject'),\n    util = require('util'),\n    f = util.format,\n    INDENT = '\\t',\n    COMMENT_KEY = /_comment$/,\n    QUOTED = /^\"(.*)\"$/,\n    EventEmitter = require('events').EventEmitter\n\n// indentation\nfunction i(x) {\n    if (x <=0)\n        return '';\n    else\n        return INDENT + i(x-1);\n}\n\nfunction comment(key, parent) {\n    var text = parent[key + '_comment'];\n\n    if (text)\n        return text;\n    else\n        return null;\n}\n\n// copied from underscore\nfunction isObject(obj) {\n    return obj === Object(obj)\n}\n\nfunction isArray(obj) {\n    return Array.isArray(obj)\n}\n\nfunction pbxWriter(contents, options) {\n    if (!options) {\n        options = {}\n    }\n    if (options.omitEmptyValues === undefined) {\n        options.omitEmptyValues = false\n    }\n\n    this.contents = contents;\n    this.sync = false;\n    this.indentLevel = 0;\n    this.omitEmptyValues = options.omitEmptyValues\n}\n\nutil.inherits(pbxWriter, EventEmitter);\n\npbxWriter.prototype.write = function (str) {\n    var fmt = f.apply(null, arguments);\n\n    if (this.sync) {\n        this.buffer += f(\"%s%s\", i(this.indentLevel), fmt);\n    } else {\n        // do stream write\n    }\n}\n\npbxWriter.prototype.writeFlush = function (str) {\n    var oldIndent = this.indentLevel;\n\n    this.indentLevel = 0;\n\n    this.write.apply(this, arguments)\n\n    this.indentLevel = oldIndent;\n}\n\npbxWriter.prototype.writeSync = function () {\n    this.sync = true;\n    this.buffer = \"\";\n\n    this.writeHeadComment();\n    this.writeProject();\n\n    return this.buffer;\n}\n\npbxWriter.prototype.writeHeadComment = function () {\n    if (this.contents.headComment) {\n        this.write(\"// %s\\n\", this.contents.headComment)\n    }\n}\n\npbxWriter.prototype.writeProject = function () {\n    var proj = this.contents.project,\n        key, cmt, obj;\n\n    this.write(\"{\\n\")\n\n    if (proj) {\n        this.indentLevel++;\n\n        for (key in proj) {\n            // skip comments\n            if (COMMENT_KEY.test(key)) continue;\n\n            cmt = comment(key, proj);\n            obj = proj[key];\n\n            if (isArray(obj)) {\n                this.writeArray(obj, key)\n            } else if (isObject(obj)) {\n                this.write(\"%s = {\\n\", key);\n                this.indentLevel++;\n\n                if (key === 'objects') {\n                    this.writeObjectsSections(obj)\n                } else {\n                    this.writeObject(obj)\n                }\n\n                this.indentLevel--;\n                this.write(\"};\\n\");\n            } else if (this.omitEmptyValues && (obj === undefined || obj === null)) {\n                continue;\n            } else if (cmt) {\n                this.write(\"%s = %s /* %s */;\\n\", key, obj, cmt)\n            } else {\n                this.write(\"%s = %s;\\n\", key, obj)\n            }\n        }\n\n        this.indentLevel--;\n    }\n\n    this.write(\"}\\n\")\n}\n\npbxWriter.prototype.writeObject = function (object) {\n    var key, obj, cmt;\n\n    for (key in object) {\n        if (COMMENT_KEY.test(key)) continue;\n\n        cmt = comment(key, object);\n        obj = object[key];\n\n        if (isArray(obj)) {\n            this.writeArray(obj, key)\n        } else if (isObject(obj)) {\n            this.write(\"%s = {\\n\", key);\n            this.indentLevel++;\n\n            this.writeObject(obj)\n\n            this.indentLevel--;\n            this.write(\"};\\n\");\n        } else {\n            if (this.omitEmptyValues && (obj === undefined || obj === null)) {\n                continue;\n            } else if (cmt) {\n                this.write(\"%s = %s /* %s */;\\n\", key, obj, cmt)\n            } else {\n                this.write(\"%s = %s;\\n\", key, obj)\n            }\n        }\n    }\n}\n\npbxWriter.prototype.writeObjectsSections = function (objects) {\n    var key, obj;\n\n    for (key in objects) {\n        this.writeFlush(\"\\n\")\n\n        obj = objects[key];\n\n        if (isObject(obj)) {\n            this.writeSectionComment(key, true);\n\n            this.writeSection(obj);\n\n            this.writeSectionComment(key, false);\n        }\n    }\n}\n\npbxWriter.prototype.writeArray = function (arr, name) {\n    var i, entry;\n\n    this.write(\"%s = (\\n\", name);\n    this.indentLevel++;\n\n    for (i=0; i < arr.length; i++) {\n        entry = arr[i]\n\n        if (entry.value && entry.comment) {\n            this.write('%s /* %s */,\\n', entry.value, entry.comment);\n        } else if (isObject(entry)) {\n            this.write('{\\n');\n            this.indentLevel++;\n\n            this.writeObject(entry);\n\n            this.indentLevel--;\n            this.write('},\\n');\n        } else {\n            this.write('%s,\\n', entry);\n        }\n    }\n\n    this.indentLevel--;\n    this.write(\");\\n\");\n}\n\npbxWriter.prototype.writeSectionComment = function (name, begin) {\n    if (begin) {\n        this.writeFlush(\"/* Begin %s section */\\n\", name)\n    } else { // end\n        this.writeFlush(\"/* End %s section */\\n\", name)\n    }\n}\n\npbxWriter.prototype.writeSection = function (section) {\n    var key, obj, cmt;\n\n    // section should only contain objects\n    for (key in section) {\n        if (COMMENT_KEY.test(key)) continue;\n\n        cmt = comment(key, section);\n        obj = section[key]\n\n        if (obj.isa == 'PBXBuildFile' || obj.isa == 'PBXFileReference') {\n            this.writeInlineObject(key, cmt, obj);\n        } else {\n            if (cmt) {\n                this.write(\"%s /* %s */ = {\\n\", key, cmt);\n            } else {\n                this.write(\"%s = {\\n\", key);\n            }\n\n            this.indentLevel++\n\n            this.writeObject(obj)\n\n            this.indentLevel--\n            this.write(\"};\\n\");\n        }\n    }\n}\n\npbxWriter.prototype.writeInlineObject = function (n, d, r) {\n    var output = [];\n    var self = this\n\n    var inlineObjectHelper = function (name, desc, ref) {\n        var key, cmt, obj;\n\n        if (desc) {\n            output.push(f(\"%s /* %s */ = {\", name, desc));\n        } else {\n            output.push(f(\"%s = {\", name));\n        }\n\n        for (key in ref) {\n            if (COMMENT_KEY.test(key)) continue;\n\n            cmt = comment(key, ref);\n            obj = ref[key];\n\n            if (isArray(obj)) {\n                output.push(f(\"%s = (\", key));\n\n                for (var i=0; i < obj.length; i++) {\n                    output.push(f(\"%s, \", obj[i]))\n                }\n\n                output.push(\"); \");\n            } else if (isObject(obj)) {\n                inlineObjectHelper(key, cmt, obj)\n            } else if (self.omitEmptyValues && (obj === undefined || obj === null)) {\n                continue;\n            } else if (cmt) {\n                output.push(f(\"%s = %s /* %s */; \", key, obj, cmt))\n            } else {\n                output.push(f(\"%s = %s; \", key, obj))\n            }\n        }\n\n        output.push(\"}; \");\n    }\n\n    inlineObjectHelper(n, d, r);\n\n    this.write(\"%s\\n\", output.join('').trim());\n}\n\nmodule.exports = pbxWriter;\n"]},"metadata":{},"sourceType":"script"}